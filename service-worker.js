const i="sportsync-v6",c="sportsync-dynamic-v6",o=["./","./index.html","./manifest.json","./icon.svg","https://cdn.tailwindcss.com","https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&family=Noto+Sans:wght@300;400;500;600;700&display=swap","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"];self.addEventListener("install",t=>{t.waitUntil(caches.open(i).then(n=>{const e=o.map(a=>fetch(a,{cache:"reload"}).then(s=>{if(s.ok)return n.put(a,s)}).catch(s=>console.log("Failed to precache",a,s)));return Promise.all(e)})),self.skipWaiting()});self.addEventListener("activate",t=>{t.waitUntil(caches.keys().then(n=>Promise.all(n.map(e=>{if(e!==i&&e!==c)return console.log("Clearing old cache",e),caches.delete(e)})))),self.clients.claim()});self.addEventListener("fetch",t=>{const n=new URL(t.request.url);if(!n.hostname.includes("generativelanguage.googleapis.com")&&!(n.pathname.endsWith(".tsx")||n.pathname.endsWith(".ts"))){if(t.request.mode==="navigate"){t.respondWith((async()=>{try{const s=await fetch(t.request);if(s&&s.status===200)return s}catch{}const e=await caches.open(i);return await e.match("./index.html")||await e.match("./")})());return}t.respondWith(caches.match(t.request).then(e=>e||fetch(t.request).then(a=>{if(a&&a.status===200&&a.type==="basic"&&(n.pathname.includes("/assets/")||t.request.destination==="image"||t.request.destination==="font"||t.request.destination==="script"||t.request.destination==="style")){const s=a.clone();caches.open(c).then(r=>{r.put(t.request,s)})}return a})))}});
