(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function fm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rd={exports:{}},Xr={},id={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo=Symbol.for("react.element"),pm=Symbol.for("react.portal"),mm=Symbol.for("react.fragment"),hm=Symbol.for("react.strict_mode"),gm=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),vm=Symbol.for("react.context"),Sm=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),Tm=Symbol.for("react.memo"),_m=Symbol.for("react.lazy"),da=Symbol.iterator;function Cm(t){return t===null||typeof t!="object"?null:(t=da&&t[da]||t["@@iterator"],typeof t=="function"?t:null)}var sd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ld=Object.assign,ad={};function Gn(t,e,n){this.props=t,this.context=e,this.refs=ad,this.updater=n||sd}Gn.prototype.isReactComponent={};Gn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ud(){}ud.prototype=Gn.prototype;function il(t,e,n){this.props=t,this.context=e,this.refs=ad,this.updater=n||sd}var sl=il.prototype=new ud;sl.constructor=il;ld(sl,Gn.prototype);sl.isPureReactComponent=!0;var fa=Array.isArray,cd=Object.prototype.hasOwnProperty,ll={current:null},dd={key:!0,ref:!0,__self:!0,__source:!0};function fd(t,e,n){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)cd.call(e,o)&&!dd.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(o in u=t.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Mo,type:t,key:i,ref:l,props:r,_owner:ll.current}}function xm(t,e){return{$$typeof:Mo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function al(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mo}function wm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pa=/\/+/g;function Ti(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wm(""+t.key):e.toString(36)}function lr(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Mo:case pm:l=!0}}if(l)return l=t,r=r(l),t=o===""?"."+Ti(l,0):o,fa(r)?(n="",t!=null&&(n=t.replace(pa,"$&/")+"/"),lr(r,e,n,"",function(d){return d})):r!=null&&(al(r)&&(r=xm(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(pa,"$&/")+"/")+t)),e.push(r)),1;if(l=0,o=o===""?".":o+":",fa(t))for(var u=0;u<t.length;u++){i=t[u];var c=o+Ti(i,u);l+=lr(i,e,n,c,r)}else if(c=Cm(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=o+Ti(i,u++),l+=lr(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Go(t,e,n){if(t==null)return t;var o=[],r=0;return lr(t,o,"","",function(i){return e.call(n,i,r++)}),o}function Im(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},ar={transition:null},Am={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:ar,ReactCurrentOwner:ll};function pd(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Go,forEach:function(t,e,n){Go(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Go(t,function(){e++}),e},toArray:function(t){return Go(t,function(e){return e})||[]},only:function(t){if(!al(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Gn;G.Fragment=mm;G.Profiler=gm;G.PureComponent=il;G.StrictMode=hm;G.Suspense=Em;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Am;G.act=pd;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=ld({},t.props),r=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=ll.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)cd.call(e,c)&&!dd.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:Mo,type:t.type,key:r,ref:i,props:o,_owner:l}};G.createContext=function(t){return t={$$typeof:vm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ym,_context:t},t.Consumer=t};G.createElement=fd;G.createFactory=function(t){var e=fd.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:Sm,render:t}};G.isValidElement=al;G.lazy=function(t){return{$$typeof:_m,_payload:{_status:-1,_result:t},_init:Im}};G.memo=function(t,e){return{$$typeof:Tm,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=ar.transition;ar.transition={};try{t()}finally{ar.transition=e}};G.unstable_act=pd;G.useCallback=function(t,e){return xe.current.useCallback(t,e)};G.useContext=function(t){return xe.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};G.useEffect=function(t,e){return xe.current.useEffect(t,e)};G.useId=function(){return xe.current.useId()};G.useImperativeHandle=function(t,e,n){return xe.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return xe.current.useMemo(t,e)};G.useReducer=function(t,e,n){return xe.current.useReducer(t,e,n)};G.useRef=function(t){return xe.current.useRef(t)};G.useState=function(t){return xe.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return xe.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return xe.current.useTransition()};G.version="18.3.1";id.exports=G;var B=id.exports;const Nm=fm(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=B,km=Symbol.for("react.element"),Pm=Symbol.for("react.fragment"),Mm=Object.prototype.hasOwnProperty,Dm=Rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lm={key:!0,ref:!0,__self:!0,__source:!0};function md(t,e,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)Mm.call(e,o)&&!Lm.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:km,type:t,key:i,ref:l,props:r,_owner:Dm.current}}Xr.Fragment=Pm;Xr.jsx=md;Xr.jsxs=md;rd.exports=Xr;var g=rd.exports,Xi={},hd={exports:{}},Ue={},gd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(w,k){var D=w.length;w.push(k);e:for(;0<D;){var V=D-1>>>1,J=w[V];if(0<r(J,k))w[V]=k,w[D]=J,D=V;else break e}}function n(w){return w.length===0?null:w[0]}function o(w){if(w.length===0)return null;var k=w[0],D=w.pop();if(D!==k){w[0]=D;e:for(var V=0,J=w.length,Et=J>>>1;V<Et;){var st=2*(V+1)-1,Ei=w[st],zt=st+1,Vo=w[zt];if(0>r(Ei,D))zt<J&&0>r(Vo,Ei)?(w[V]=Vo,w[zt]=D,V=zt):(w[V]=Ei,w[st]=D,V=st);else if(zt<J&&0>r(Vo,D))w[V]=Vo,w[zt]=D,V=zt;else break e}}return k}function r(w,k){var D=w.sortIndex-k.sortIndex;return D!==0?D:w.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,m=null,p=3,h=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(w){for(var k=n(d);k!==null;){if(k.callback===null)o(d);else if(k.startTime<=w)o(d),k.sortIndex=k.expirationTime,e(c,k);else break;k=n(d)}}function _(w){if(T=!1,S(w),!E)if(n(c)!==null)E=!0,Se(I);else{var k=n(d);k!==null&&ce(_,k.startTime-w)}}function I(w,k){E=!1,T&&(T=!1,v(N),N=-1),h=!0;var D=p;try{for(S(k),m=n(c);m!==null&&(!(m.expirationTime>k)||w&&!z());){var V=m.callback;if(typeof V=="function"){m.callback=null,p=m.priorityLevel;var J=V(m.expirationTime<=k);k=t.unstable_now(),typeof J=="function"?m.callback=J:m===n(c)&&o(c),S(k)}else o(c);m=n(c)}if(m!==null)var Et=!0;else{var st=n(d);st!==null&&ce(_,st.startTime-k),Et=!1}return Et}finally{m=null,p=D,h=!1}}var A=!1,x=null,N=-1,P=5,L=-1;function z(){return!(t.unstable_now()-L<P)}function ue(){if(x!==null){var w=t.unstable_now();L=w;var k=!0;try{k=x(!0,w)}finally{k?b():(A=!1,x=null)}}else A=!1}var b;if(typeof y=="function")b=function(){y(ue)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,sn=ne.port2;ne.port1.onmessage=ue,b=function(){sn.postMessage(null)}}else b=function(){C(ue,0)};function Se(w){x=w,A||(A=!0,b())}function ce(w,k){N=C(function(){w(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(w){w.callback=null},t.unstable_continueExecution=function(){E||h||(E=!0,Se(I))},t.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<w?Math.floor(1e3/w):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(w){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var D=p;p=k;try{return w()}finally{p=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(w,k){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var D=p;p=w;try{return k()}finally{p=D}},t.unstable_scheduleCallback=function(w,k,D){var V=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?V+D:V):D=V,w){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=D+J,w={id:f++,callback:k,priorityLevel:w,startTime:D,expirationTime:J,sortIndex:-1},D>V?(w.sortIndex=D,e(d,w),n(c)===null&&w===n(d)&&(T?(v(N),N=-1):T=!0,ce(_,D-V))):(w.sortIndex=J,e(c,w),E||h||(E=!0,Se(I))),w},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(w){var k=p;return function(){var D=p;p=k;try{return w.apply(this,arguments)}finally{p=D}}}})(yd);gd.exports=yd;var Um=gd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=B,Le=Um;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vd=new Set,ho={};function nn(t,e){Pn(t,e),Pn(t+"Capture",e)}function Pn(t,e){for(ho[t]=e,t=0;t<e.length;t++)vd.add(e[t])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=Object.prototype.hasOwnProperty,Vm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ma={},ha={};function Gm(t){return Zi.call(ha,t)?!0:Zi.call(ma,t)?!1:Vm.test(t)?ha[t]=!0:(ma[t]=!0,!1)}function Hm(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Bm(t,e,n,o){if(e===null||typeof e>"u"||Hm(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function we(t,e,n,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new we(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new we(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new we(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new we(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new we(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new we(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var ul=/[\-:]([a-z])/g;function cl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ul,cl);pe[e]=new we(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ul,cl);pe[e]=new we(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ul,cl);pe[e]=new we(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function dl(t,e,n,o){var r=pe.hasOwnProperty(e)?pe[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Bm(e,n,r,o)&&(n=null),o||r===null?Gm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var yt=Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),un=Symbol.for("react.portal"),cn=Symbol.for("react.fragment"),fl=Symbol.for("react.strict_mode"),ji=Symbol.for("react.profiler"),Sd=Symbol.for("react.provider"),Ed=Symbol.for("react.context"),pl=Symbol.for("react.forward_ref"),es=Symbol.for("react.suspense"),ts=Symbol.for("react.suspense_list"),ml=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Td=Symbol.for("react.offscreen"),ga=Symbol.iterator;function bn(t){return t===null||typeof t!="object"?null:(t=ga&&t[ga]||t["@@iterator"],typeof t=="function"?t:null)}var j=Object.assign,_i;function eo(t){if(_i===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_i=e&&e[1]||""}return`
`+_i+t}var Ci=!1;function xi(t,e){if(!t||Ci)return"";Ci=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){o=d}t.call(e.prototype)}else{try{throw Error()}catch(d){o=d}t()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{Ci=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?eo(t):""}function qm(t){switch(t.tag){case 5:return eo(t.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 2:case 15:return t=xi(t.type,!1),t;case 11:return t=xi(t.type.render,!1),t;case 1:return t=xi(t.type,!0),t;default:return""}}function ns(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cn:return"Fragment";case un:return"Portal";case ji:return"Profiler";case fl:return"StrictMode";case es:return"Suspense";case ts:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ed:return(t.displayName||"Context")+".Consumer";case Sd:return(t._context.displayName||"Context")+".Provider";case pl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ml:return e=t.displayName||null,e!==null?e:ns(t.type)||"Memo";case _t:e=t._payload,t=t._init;try{return ns(t(e))}catch{}}return null}function zm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ns(e);case 8:return e===fl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ft(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _d(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $m(t){var e=_d(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bo(t){t._valueTracker||(t._valueTracker=$m(t))}function Cd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=_d(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Tr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function os(t,e){var n=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ya(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Ft(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xd(t,e){e=e.checked,e!=null&&dl(t,"checked",e,!1)}function rs(t,e){xd(t,e);var n=Ft(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?is(t,e.type,n):e.hasOwnProperty("defaultValue")&&is(t,e.type,Ft(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function va(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function is(t,e,n){(e!=="number"||Tr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var to=Array.isArray;function Cn(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Ft(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ss(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(to(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ft(n)}}function wd(t,e){var n=Ft(e.value),o=Ft(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function Ea(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Id(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ls(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Id(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qo,Ad=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qo=qo||document.createElement("div"),qo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function go(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bm=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(t){bm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),io[e]=io[t]})});function Nd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||io.hasOwnProperty(t)&&io[t]?(""+e).trim():e+"px"}function Rd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=Nd(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var Jm=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function as(t,e){if(e){if(Jm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function us(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cs=null;function hl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ds=null,xn=null,wn=null;function Ta(t){if(t=Uo(t)){if(typeof ds!="function")throw Error(R(280));var e=t.stateNode;e&&(e=ni(e),ds(t.stateNode,t.type,e))}}function kd(t){xn?wn?wn.push(t):wn=[t]:xn=t}function Pd(){if(xn){var t=xn,e=wn;if(wn=xn=null,Ta(t),e)for(t=0;t<e.length;t++)Ta(e[t])}}function Md(t,e){return t(e)}function Dd(){}var wi=!1;function Ld(t,e,n){if(wi)return t(e,n);wi=!0;try{return Md(t,e,n)}finally{wi=!1,(xn!==null||wn!==null)&&(Dd(),Pd())}}function yo(t,e){var n=t.stateNode;if(n===null)return null;var o=ni(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var fs=!1;if(ft)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{fs=!1}function Om(t,e,n,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var so=!1,_r=null,Cr=!1,ps=null,Wm={onError:function(t){so=!0,_r=t}};function Km(t,e,n,o,r,i,l,u,c){so=!1,_r=null,Om.apply(Wm,arguments)}function Ym(t,e,n,o,r,i,l,u,c){if(Km.apply(this,arguments),so){if(so){var d=_r;so=!1,_r=null}else throw Error(R(198));Cr||(Cr=!0,ps=d)}}function on(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ud(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _a(t){if(on(t)!==t)throw Error(R(188))}function Qm(t){var e=t.alternate;if(!e){if(e=on(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return _a(r),t;if(i===o)return _a(r),e;i=i.sibling}throw Error(R(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(R(189))}}if(n.alternate!==o)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Fd(t){return t=Qm(t),t!==null?Vd(t):null}function Vd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vd(t);if(e!==null)return e;t=t.sibling}return null}var Gd=Le.unstable_scheduleCallback,Ca=Le.unstable_cancelCallback,Xm=Le.unstable_shouldYield,Zm=Le.unstable_requestPaint,te=Le.unstable_now,jm=Le.unstable_getCurrentPriorityLevel,gl=Le.unstable_ImmediatePriority,Hd=Le.unstable_UserBlockingPriority,xr=Le.unstable_NormalPriority,eh=Le.unstable_LowPriority,Bd=Le.unstable_IdlePriority,Zr=null,rt=null;function th(t){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Zr,t,void 0,(t.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:rh,nh=Math.log,oh=Math.LN2;function rh(t){return t>>>=0,t===0?32:31-(nh(t)/oh|0)|0}var zo=64,$o=4194304;function no(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wr(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=no(u):(i&=l,i!==0&&(o=no(i)))}else l=n&~r,l!==0?o=no(l):i!==0&&(o=no(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-Ye(e),r=1<<n,o|=t[n],e&=~r;return o}function ih(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sh(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Ye(i),u=1<<l,c=r[l];c===-1?(!(u&n)||u&o)&&(r[l]=ih(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function ms(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qd(){var t=zo;return zo<<=1,!(zo&4194240)&&(zo=64),t}function Ii(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Do(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ye(e),t[e]=n}function lh(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ye(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}function yl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-Ye(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var O=0;function zd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $d,vl,bd,Jd,Od,hs=!1,bo=[],Nt=null,Rt=null,kt=null,vo=new Map,So=new Map,xt=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xa(t,e){switch(t){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(e.pointerId)}}function On(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Uo(e),e!==null&&vl(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function uh(t,e,n,o,r){switch(e){case"focusin":return Nt=On(Nt,t,e,n,o,r),!0;case"dragenter":return Rt=On(Rt,t,e,n,o,r),!0;case"mouseover":return kt=On(kt,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return vo.set(i,On(vo.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,So.set(i,On(So.get(i)||null,t,e,n,o,r)),!0}return!1}function Wd(t){var e=Ot(t.target);if(e!==null){var n=on(e);if(n!==null){if(e=n.tag,e===13){if(e=Ud(n),e!==null){t.blockedOn=e,Od(t.priority,function(){bd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ur(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gs(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);cs=o,n.target.dispatchEvent(o),cs=null}else return e=Uo(n),e!==null&&vl(e),t.blockedOn=n,!1;e.shift()}return!0}function wa(t,e,n){ur(t)&&n.delete(e)}function ch(){hs=!1,Nt!==null&&ur(Nt)&&(Nt=null),Rt!==null&&ur(Rt)&&(Rt=null),kt!==null&&ur(kt)&&(kt=null),vo.forEach(wa),So.forEach(wa)}function Wn(t,e){t.blockedOn===e&&(t.blockedOn=null,hs||(hs=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,ch)))}function Eo(t){function e(r){return Wn(r,t)}if(0<bo.length){Wn(bo[0],t);for(var n=1;n<bo.length;n++){var o=bo[n];o.blockedOn===t&&(o.blockedOn=null)}}for(Nt!==null&&Wn(Nt,t),Rt!==null&&Wn(Rt,t),kt!==null&&Wn(kt,t),vo.forEach(e),So.forEach(e),n=0;n<xt.length;n++)o=xt[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<xt.length&&(n=xt[0],n.blockedOn===null);)Wd(n),n.blockedOn===null&&xt.shift()}var In=yt.ReactCurrentBatchConfig,Ir=!0;function dh(t,e,n,o){var r=O,i=In.transition;In.transition=null;try{O=1,Sl(t,e,n,o)}finally{O=r,In.transition=i}}function fh(t,e,n,o){var r=O,i=In.transition;In.transition=null;try{O=4,Sl(t,e,n,o)}finally{O=r,In.transition=i}}function Sl(t,e,n,o){if(Ir){var r=gs(t,e,n,o);if(r===null)Fi(t,e,o,Ar,n),xa(t,o);else if(uh(r,t,e,n,o))o.stopPropagation();else if(xa(t,o),e&4&&-1<ah.indexOf(t)){for(;r!==null;){var i=Uo(r);if(i!==null&&$d(i),i=gs(t,e,n,o),i===null&&Fi(t,e,o,Ar,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Fi(t,e,o,null,n)}}var Ar=null;function gs(t,e,n,o){if(Ar=null,t=hl(o),t=Ot(t),t!==null)if(e=on(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ud(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ar=t,null}function Kd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jm()){case gl:return 1;case Hd:return 4;case xr:case eh:return 16;case Bd:return 536870912;default:return 16}default:return 16}}var It=null,El=null,cr=null;function Yd(){if(cr)return cr;var t,e=El,n=e.length,o,r="value"in It?It.value:It.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(o=1;o<=l&&e[n-o]===r[i-o];o++);return cr=r.slice(t,1<o?1-o:void 0)}function dr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jo(){return!0}function Ia(){return!1}function Fe(t){function e(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jo:Ia,this.isPropagationStopped=Ia,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),e}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=Fe(Hn),Lo=j({},Hn,{view:0,detail:0}),ph=Fe(Lo),Ai,Ni,Kn,jr=j({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Ai=t.screenX-Kn.screenX,Ni=t.screenY-Kn.screenY):Ni=Ai=0,Kn=t),Ai)},movementY:function(t){return"movementY"in t?t.movementY:Ni}}),Aa=Fe(jr),mh=j({},jr,{dataTransfer:0}),hh=Fe(mh),gh=j({},Lo,{relatedTarget:0}),Ri=Fe(gh),yh=j({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),vh=Fe(yh),Sh=j({},Hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eh=Fe(Sh),Th=j({},Hn,{data:0}),Na=Fe(Th),_h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xh[t])?!!e[t]:!1}function _l(){return wh}var Ih=j({},Lo,{key:function(t){if(t.key){var e=_h[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ch[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(t){return t.type==="keypress"?dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ah=Fe(Ih),Nh=j({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ra=Fe(Nh),Rh=j({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),kh=Fe(Rh),Ph=j({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mh=Fe(Ph),Dh=j({},jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lh=Fe(Dh),Uh=[9,13,27,32],Cl=ft&&"CompositionEvent"in window,lo=null;ft&&"documentMode"in document&&(lo=document.documentMode);var Fh=ft&&"TextEvent"in window&&!lo,Qd=ft&&(!Cl||lo&&8<lo&&11>=lo),ka=" ",Pa=!1;function Xd(t,e){switch(t){case"keyup":return Uh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dn=!1;function Vh(t,e){switch(t){case"compositionend":return Zd(e);case"keypress":return e.which!==32?null:(Pa=!0,ka);case"textInput":return t=e.data,t===ka&&Pa?null:t;default:return null}}function Gh(t,e){if(dn)return t==="compositionend"||!Cl&&Xd(t,e)?(t=Yd(),cr=El=It=null,dn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qd&&e.locale!=="ko"?null:e.data;default:return null}}var Hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ma(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hh[t.type]:e==="textarea"}function jd(t,e,n,o){kd(o),e=Nr(e,"onChange"),0<e.length&&(n=new Tl("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var ao=null,To=null;function Bh(t){df(t,0)}function ei(t){var e=mn(t);if(Cd(e))return t}function qh(t,e){if(t==="change")return e}var ef=!1;if(ft){var ki;if(ft){var Pi="oninput"in document;if(!Pi){var Da=document.createElement("div");Da.setAttribute("oninput","return;"),Pi=typeof Da.oninput=="function"}ki=Pi}else ki=!1;ef=ki&&(!document.documentMode||9<document.documentMode)}function La(){ao&&(ao.detachEvent("onpropertychange",tf),To=ao=null)}function tf(t){if(t.propertyName==="value"&&ei(To)){var e=[];jd(e,To,t,hl(t)),Ld(Bh,e)}}function zh(t,e,n){t==="focusin"?(La(),ao=e,To=n,ao.attachEvent("onpropertychange",tf)):t==="focusout"&&La()}function $h(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ei(To)}function bh(t,e){if(t==="click")return ei(e)}function Jh(t,e){if(t==="input"||t==="change")return ei(e)}function Oh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var je=typeof Object.is=="function"?Object.is:Oh;function _o(t,e){if(je(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Zi.call(e,r)||!je(t[r],e[r]))return!1}return!0}function Ua(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fa(t,e){var n=Ua(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ua(n)}}function nf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function of(){for(var t=window,e=Tr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tr(t.document)}return e}function xl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Wh(t){var e=of(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nf(n.ownerDocument.documentElement,n)){if(o!==null&&xl(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=Fa(n,i);var l=Fa(n,o);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kh=ft&&"documentMode"in document&&11>=document.documentMode,fn=null,ys=null,uo=null,vs=!1;function Va(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vs||fn==null||fn!==Tr(o)||(o=fn,"selectionStart"in o&&xl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),uo&&_o(uo,o)||(uo=o,o=Nr(ys,"onSelect"),0<o.length&&(e=new Tl("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=fn)))}function Oo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pn={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},Mi={},rf={};ft&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);function ti(t){if(Mi[t])return Mi[t];if(!pn[t])return t;var e=pn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rf)return Mi[t]=e[n];return t}var sf=ti("animationend"),lf=ti("animationiteration"),af=ti("animationstart"),uf=ti("transitionend"),cf=new Map,Ga="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(t,e){cf.set(t,e),nn(e,[t])}for(var Di=0;Di<Ga.length;Di++){var Li=Ga[Di],Yh=Li.toLowerCase(),Qh=Li[0].toUpperCase()+Li.slice(1);Gt(Yh,"on"+Qh)}Gt(sf,"onAnimationEnd");Gt(lf,"onAnimationIteration");Gt(af,"onAnimationStart");Gt("dblclick","onDoubleClick");Gt("focusin","onFocus");Gt("focusout","onBlur");Gt(uf,"onTransitionEnd");Pn("onMouseEnter",["mouseout","mouseover"]);Pn("onMouseLeave",["mouseout","mouseover"]);Pn("onPointerEnter",["pointerout","pointerover"]);Pn("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xh=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function Ha(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Ym(o,e,void 0,t),t.currentTarget=null}function df(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;Ha(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;Ha(r,u,d),i=c}}}if(Cr)throw t=ps,Cr=!1,ps=null,t}function K(t,e){var n=e[Cs];n===void 0&&(n=e[Cs]=new Set);var o=t+"__bubble";n.has(o)||(ff(e,t,2,!1),n.add(o))}function Ui(t,e,n){var o=0;e&&(o|=4),ff(n,t,o,e)}var Wo="_reactListening"+Math.random().toString(36).slice(2);function Co(t){if(!t[Wo]){t[Wo]=!0,vd.forEach(function(n){n!=="selectionchange"&&(Xh.has(n)||Ui(n,!1,t),Ui(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wo]||(e[Wo]=!0,Ui("selectionchange",!1,e))}}function ff(t,e,n,o){switch(Kd(e)){case 1:var r=dh;break;case 4:r=fh;break;default:r=Sl}n=r.bind(null,e,n,t),r=void 0,!fs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Fi(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=Ot(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}Ld(function(){var d=i,f=hl(n),m=[];e:{var p=cf.get(t);if(p!==void 0){var h=Tl,E=t;switch(t){case"keypress":if(dr(n)===0)break e;case"keydown":case"keyup":h=Ah;break;case"focusin":E="focus",h=Ri;break;case"focusout":E="blur",h=Ri;break;case"beforeblur":case"afterblur":h=Ri;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=kh;break;case sf:case lf:case af:h=vh;break;case uf:h=Mh;break;case"scroll":h=ph;break;case"wheel":h=Lh;break;case"copy":case"cut":case"paste":h=Eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ra}var T=(e&4)!==0,C=!T&&t==="scroll",v=T?p!==null?p+"Capture":null:p;T=[];for(var y=d,S;y!==null;){S=y;var _=S.stateNode;if(S.tag===5&&_!==null&&(S=_,v!==null&&(_=yo(y,v),_!=null&&T.push(xo(y,_,S)))),C)break;y=y.return}0<T.length&&(p=new h(p,E,null,n,f),m.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&n!==cs&&(E=n.relatedTarget||n.fromElement)&&(Ot(E)||E[pt]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(E=n.relatedTarget||n.toElement,h=d,E=E?Ot(E):null,E!==null&&(C=on(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(h=null,E=d),h!==E)){if(T=Aa,_="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=Ra,_="onPointerLeave",v="onPointerEnter",y="pointer"),C=h==null?p:mn(h),S=E==null?p:mn(E),p=new T(_,y+"leave",h,n,f),p.target=C,p.relatedTarget=S,_=null,Ot(f)===d&&(T=new T(v,y+"enter",E,n,f),T.target=S,T.relatedTarget=C,_=T),C=_,h&&E)t:{for(T=h,v=E,y=0,S=T;S;S=ln(S))y++;for(S=0,_=v;_;_=ln(_))S++;for(;0<y-S;)T=ln(T),y--;for(;0<S-y;)v=ln(v),S--;for(;y--;){if(T===v||v!==null&&T===v.alternate)break t;T=ln(T),v=ln(v)}T=null}else T=null;h!==null&&Ba(m,p,h,T,!1),E!==null&&C!==null&&Ba(m,C,E,T,!0)}}e:{if(p=d?mn(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var I=qh;else if(Ma(p))if(ef)I=Jh;else{I=$h;var A=zh}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=bh);if(I&&(I=I(t,d))){jd(m,I,n,f);break e}A&&A(t,p,d),t==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&is(p,"number",p.value)}switch(A=d?mn(d):window,t){case"focusin":(Ma(A)||A.contentEditable==="true")&&(fn=A,ys=d,uo=null);break;case"focusout":uo=ys=fn=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,Va(m,n,f);break;case"selectionchange":if(Kh)break;case"keydown":case"keyup":Va(m,n,f)}var x;if(Cl)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else dn?Xd(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Qd&&n.locale!=="ko"&&(dn||N!=="onCompositionStart"?N==="onCompositionEnd"&&dn&&(x=Yd()):(It=f,El="value"in It?It.value:It.textContent,dn=!0)),A=Nr(d,N),0<A.length&&(N=new Na(N,t,null,n,f),m.push({event:N,listeners:A}),x?N.data=x:(x=Zd(n),x!==null&&(N.data=x)))),(x=Fh?Vh(t,n):Gh(t,n))&&(d=Nr(d,"onBeforeInput"),0<d.length&&(f=new Na("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=x))}df(m,e)})}function xo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nr(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=yo(t,n),i!=null&&o.unshift(xo(t,i,r)),i=yo(t,e),i!=null&&o.push(xo(t,i,r))),t=t.return}return o}function ln(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ba(t,e,n,o,r){for(var i=e._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=yo(n,i),c!=null&&l.unshift(xo(n,c,u))):r||(c=yo(n,i),c!=null&&l.push(xo(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Zh=/\r\n?/g,jh=/\u0000|\uFFFD/g;function qa(t){return(typeof t=="string"?t:""+t).replace(Zh,`
`).replace(jh,"")}function Ko(t,e,n){if(e=qa(e),qa(t)!==e&&n)throw Error(R(425))}function Rr(){}var Ss=null,Es=null;function Ts(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _s=typeof setTimeout=="function"?setTimeout:void 0,eg=typeof clearTimeout=="function"?clearTimeout:void 0,za=typeof Promise=="function"?Promise:void 0,tg=typeof queueMicrotask=="function"?queueMicrotask:typeof za<"u"?function(t){return za.resolve(null).then(t).catch(ng)}:_s;function ng(t){setTimeout(function(){throw t})}function Vi(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),Eo(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Eo(e)}function Pt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $a(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Bn,wo="__reactProps$"+Bn,pt="__reactContainer$"+Bn,Cs="__reactEvents$"+Bn,og="__reactListeners$"+Bn,rg="__reactHandles$"+Bn;function Ot(t){var e=t[ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pt]||n[ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$a(t);t!==null;){if(n=t[ot])return n;t=$a(t)}return e}t=n,n=t.parentNode}return null}function Uo(t){return t=t[ot]||t[pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function ni(t){return t[wo]||null}var xs=[],hn=-1;function Ht(t){return{current:t}}function Y(t){0>hn||(t.current=xs[hn],xs[hn]=null,hn--)}function W(t,e){hn++,xs[hn]=t.current,t.current=e}var Vt={},ve=Ht(Vt),Ne=Ht(!1),Xt=Vt;function Mn(t,e){var n=t.type.contextTypes;if(!n)return Vt;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Re(t){return t=t.childContextTypes,t!=null}function kr(){Y(Ne),Y(ve)}function ba(t,e,n){if(ve.current!==Vt)throw Error(R(168));W(ve,e),W(Ne,n)}function pf(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(R(108,zm(t)||"Unknown",r));return j({},n,o)}function Pr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vt,Xt=ve.current,W(ve,t),W(Ne,Ne.current),!0}function Ja(t,e,n){var o=t.stateNode;if(!o)throw Error(R(169));n?(t=pf(t,e,Xt),o.__reactInternalMemoizedMergedChildContext=t,Y(Ne),Y(ve),W(ve,t)):Y(Ne),W(Ne,n)}var at=null,oi=!1,Gi=!1;function mf(t){at===null?at=[t]:at.push(t)}function ig(t){oi=!0,mf(t)}function Bt(){if(!Gi&&at!==null){Gi=!0;var t=0,e=O;try{var n=at;for(O=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}at=null,oi=!1}catch(r){throw at!==null&&(at=at.slice(t+1)),Gd(gl,Bt),r}finally{O=e,Gi=!1}}return null}var gn=[],yn=0,Mr=null,Dr=0,Ve=[],Ge=0,Zt=null,ut=1,ct="";function $t(t,e){gn[yn++]=Dr,gn[yn++]=Mr,Mr=t,Dr=e}function hf(t,e,n){Ve[Ge++]=ut,Ve[Ge++]=ct,Ve[Ge++]=Zt,Zt=t;var o=ut;t=ct;var r=32-Ye(o)-1;o&=~(1<<r),n+=1;var i=32-Ye(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,ut=1<<32-Ye(e)+r|n<<r|o,ct=i+t}else ut=1<<i|n<<r|o,ct=t}function wl(t){t.return!==null&&($t(t,1),hf(t,1,0))}function Il(t){for(;t===Mr;)Mr=gn[--yn],gn[yn]=null,Dr=gn[--yn],gn[yn]=null;for(;t===Zt;)Zt=Ve[--Ge],Ve[Ge]=null,ct=Ve[--Ge],Ve[Ge]=null,ut=Ve[--Ge],Ve[Ge]=null}var De=null,Me=null,Q=!1,Ke=null;function gf(t,e){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Oa(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,De=t,Me=Pt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,De=t,Me=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zt!==null?{id:ut,overflow:ct}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,De=t,Me=null,!0):!1;default:return!1}}function ws(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Is(t){if(Q){var e=Me;if(e){var n=e;if(!Oa(t,e)){if(ws(t))throw Error(R(418));e=Pt(n.nextSibling);var o=De;e&&Oa(t,e)?gf(o,n):(t.flags=t.flags&-4097|2,Q=!1,De=t)}}else{if(ws(t))throw Error(R(418));t.flags=t.flags&-4097|2,Q=!1,De=t}}}function Wa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;De=t}function Yo(t){if(t!==De)return!1;if(!Q)return Wa(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ts(t.type,t.memoizedProps)),e&&(e=Me)){if(ws(t))throw yf(),Error(R(418));for(;e;)gf(t,e),e=Pt(e.nextSibling)}if(Wa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Me=Pt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Me=null}}else Me=De?Pt(t.stateNode.nextSibling):null;return!0}function yf(){for(var t=Me;t;)t=Pt(t.nextSibling)}function Dn(){Me=De=null,Q=!1}function Al(t){Ke===null?Ke=[t]:Ke.push(t)}var sg=yt.ReactCurrentBatchConfig;function Yn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var o=n.stateNode}if(!o)throw Error(R(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Qo(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ka(t){var e=t._init;return e(t._payload)}function vf(t){function e(v,y){if(t){var S=v.deletions;S===null?(v.deletions=[y],v.flags|=16):S.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function o(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function r(v,y){return v=Ut(v,y),v.index=0,v.sibling=null,v}function i(v,y,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<y?(v.flags|=2,y):S):(v.flags|=2,y)):(v.flags|=1048576,y)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function u(v,y,S,_){return y===null||y.tag!==6?(y=Ji(S,v.mode,_),y.return=v,y):(y=r(y,S),y.return=v,y)}function c(v,y,S,_){var I=S.type;return I===cn?f(v,y,S.props.children,_,S.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_t&&Ka(I)===y.type)?(_=r(y,S.props),_.ref=Yn(v,y,S),_.return=v,_):(_=vr(S.type,S.key,S.props,null,v.mode,_),_.ref=Yn(v,y,S),_.return=v,_)}function d(v,y,S,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Oi(S,v.mode,_),y.return=v,y):(y=r(y,S.children||[]),y.return=v,y)}function f(v,y,S,_,I){return y===null||y.tag!==7?(y=Qt(S,v.mode,_,I),y.return=v,y):(y=r(y,S),y.return=v,y)}function m(v,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ji(""+y,v.mode,S),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ho:return S=vr(y.type,y.key,y.props,null,v.mode,S),S.ref=Yn(v,null,y),S.return=v,S;case un:return y=Oi(y,v.mode,S),y.return=v,y;case _t:var _=y._init;return m(v,_(y._payload),S)}if(to(y)||bn(y))return y=Qt(y,v.mode,S,null),y.return=v,y;Qo(v,y)}return null}function p(v,y,S,_){var I=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return I!==null?null:u(v,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ho:return S.key===I?c(v,y,S,_):null;case un:return S.key===I?d(v,y,S,_):null;case _t:return I=S._init,p(v,y,I(S._payload),_)}if(to(S)||bn(S))return I!==null?null:f(v,y,S,_,null);Qo(v,S)}return null}function h(v,y,S,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(S)||null,u(y,v,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ho:return v=v.get(_.key===null?S:_.key)||null,c(y,v,_,I);case un:return v=v.get(_.key===null?S:_.key)||null,d(y,v,_,I);case _t:var A=_._init;return h(v,y,S,A(_._payload),I)}if(to(_)||bn(_))return v=v.get(S)||null,f(y,v,_,I,null);Qo(y,_)}return null}function E(v,y,S,_){for(var I=null,A=null,x=y,N=y=0,P=null;x!==null&&N<S.length;N++){x.index>N?(P=x,x=null):P=x.sibling;var L=p(v,x,S[N],_);if(L===null){x===null&&(x=P);break}t&&x&&L.alternate===null&&e(v,x),y=i(L,y,N),A===null?I=L:A.sibling=L,A=L,x=P}if(N===S.length)return n(v,x),Q&&$t(v,N),I;if(x===null){for(;N<S.length;N++)x=m(v,S[N],_),x!==null&&(y=i(x,y,N),A===null?I=x:A.sibling=x,A=x);return Q&&$t(v,N),I}for(x=o(v,x);N<S.length;N++)P=h(x,v,N,S[N],_),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?N:P.key),y=i(P,y,N),A===null?I=P:A.sibling=P,A=P);return t&&x.forEach(function(z){return e(v,z)}),Q&&$t(v,N),I}function T(v,y,S,_){var I=bn(S);if(typeof I!="function")throw Error(R(150));if(S=I.call(S),S==null)throw Error(R(151));for(var A=I=null,x=y,N=y=0,P=null,L=S.next();x!==null&&!L.done;N++,L=S.next()){x.index>N?(P=x,x=null):P=x.sibling;var z=p(v,x,L.value,_);if(z===null){x===null&&(x=P);break}t&&x&&z.alternate===null&&e(v,x),y=i(z,y,N),A===null?I=z:A.sibling=z,A=z,x=P}if(L.done)return n(v,x),Q&&$t(v,N),I;if(x===null){for(;!L.done;N++,L=S.next())L=m(v,L.value,_),L!==null&&(y=i(L,y,N),A===null?I=L:A.sibling=L,A=L);return Q&&$t(v,N),I}for(x=o(v,x);!L.done;N++,L=S.next())L=h(x,v,N,L.value,_),L!==null&&(t&&L.alternate!==null&&x.delete(L.key===null?N:L.key),y=i(L,y,N),A===null?I=L:A.sibling=L,A=L);return t&&x.forEach(function(ue){return e(v,ue)}),Q&&$t(v,N),I}function C(v,y,S,_){if(typeof S=="object"&&S!==null&&S.type===cn&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ho:e:{for(var I=S.key,A=y;A!==null;){if(A.key===I){if(I=S.type,I===cn){if(A.tag===7){n(v,A.sibling),y=r(A,S.props.children),y.return=v,v=y;break e}}else if(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_t&&Ka(I)===A.type){n(v,A.sibling),y=r(A,S.props),y.ref=Yn(v,A,S),y.return=v,v=y;break e}n(v,A);break}else e(v,A);A=A.sibling}S.type===cn?(y=Qt(S.props.children,v.mode,_,S.key),y.return=v,v=y):(_=vr(S.type,S.key,S.props,null,v.mode,_),_.ref=Yn(v,y,S),_.return=v,v=_)}return l(v);case un:e:{for(A=S.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(v,y.sibling),y=r(y,S.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Oi(S,v.mode,_),y.return=v,v=y}return l(v);case _t:return A=S._init,C(v,y,A(S._payload),_)}if(to(S))return E(v,y,S,_);if(bn(S))return T(v,y,S,_);Qo(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(v,y.sibling),y=r(y,S),y.return=v,v=y):(n(v,y),y=Ji(S,v.mode,_),y.return=v,v=y),l(v)):n(v,y)}return C}var Ln=vf(!0),Sf=vf(!1),Lr=Ht(null),Ur=null,vn=null,Nl=null;function Rl(){Nl=vn=Ur=null}function kl(t){var e=Lr.current;Y(Lr),t._currentValue=e}function As(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function An(t,e){Ur=t,Nl=vn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ae=!0),t.firstContext=null)}function ze(t){var e=t._currentValue;if(Nl!==t)if(t={context:t,memoizedValue:e,next:null},vn===null){if(Ur===null)throw Error(R(308));vn=t,Ur.dependencies={lanes:0,firstContext:t}}else vn=vn.next=t;return e}var Wt=null;function Pl(t){Wt===null?Wt=[t]:Wt.push(t)}function Ef(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,Pl(e)):(n.next=r.next,r.next=n),e.interleaved=n,mt(t,o)}function mt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ct=!1;function Ml(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,q&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,mt(t,n)}return r=o.interleaved,r===null?(e.next=e,Pl(o)):(e.next=r.next,r.next=e),o.interleaved=e,mt(t,n)}function fr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,yl(t,n)}}function Ya(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fr(t,e,n,o){var r=t.updateQueue;Ct=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=r.baseState;l=0,f=d=c=null,u=i;do{var p=u.lane,h=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,T=u;switch(p=e,h=n,T.tag){case 1:if(E=T.payload,typeof E=="function"){m=E.call(h,m,p);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,p=typeof E=="function"?E.call(h,m,p):E,p==null)break e;m=j({},m,p);break e;case 2:Ct=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=h,c=m):f=f.next=h,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=m),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);en|=l,t.lanes=l,t.memoizedState=m}}function Qa(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(R(191,r));r.call(o)}}}var Fo={},it=Ht(Fo),Io=Ht(Fo),Ao=Ht(Fo);function Kt(t){if(t===Fo)throw Error(R(174));return t}function Dl(t,e){switch(W(Ao,e),W(Io,t),W(it,Fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ls(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ls(e,t)}Y(it),W(it,e)}function Un(){Y(it),Y(Io),Y(Ao)}function _f(t){Kt(Ao.current);var e=Kt(it.current),n=ls(e,t.type);e!==n&&(W(Io,t),W(it,n))}function Ll(t){Io.current===t&&(Y(it),Y(Io))}var X=Ht(0);function Vr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hi=[];function Ul(){for(var t=0;t<Hi.length;t++)Hi[t]._workInProgressVersionPrimary=null;Hi.length=0}var pr=yt.ReactCurrentDispatcher,Bi=yt.ReactCurrentBatchConfig,jt=0,Z=null,re=null,se=null,Gr=!1,co=!1,No=0,lg=0;function me(){throw Error(R(321))}function Fl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!je(t[n],e[n]))return!1;return!0}function Vl(t,e,n,o,r,i){if(jt=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pr.current=t===null||t.memoizedState===null?dg:fg,t=n(o,r),co){i=0;do{if(co=!1,No=0,25<=i)throw Error(R(301));i+=1,se=re=null,e.updateQueue=null,pr.current=pg,t=n(o,r)}while(co)}if(pr.current=Hr,e=re!==null&&re.next!==null,jt=0,se=re=Z=null,Gr=!1,e)throw Error(R(300));return t}function Gl(){var t=No!==0;return No=0,t}function nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?Z.memoizedState=se=t:se=se.next=t,se}function $e(){if(re===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=se===null?Z.memoizedState:se.next;if(e!==null)se=e,re=t;else{if(t===null)throw Error(R(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},se===null?Z.memoizedState=se=t:se=se.next=t}return se}function Ro(t,e){return typeof e=="function"?e(t):e}function qi(t){var e=$e(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var o=re,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((jt&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:t(o,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,l=o):c=c.next=m,Z.lanes|=f,en|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,je(o,e.memoizedState)||(Ae=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Z.lanes|=i,en|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zi(t){var e=$e(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=t(i,l.action),l=l.next;while(l!==r);je(i,e.memoizedState)||(Ae=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function Cf(){}function xf(t,e){var n=Z,o=$e(),r=e(),i=!je(o.memoizedState,r);if(i&&(o.memoizedState=r,Ae=!0),o=o.queue,Hl(Af.bind(null,n,o,t),[t]),o.getSnapshot!==e||i||se!==null&&se.memoizedState.tag&1){if(n.flags|=2048,ko(9,If.bind(null,n,o,r,e),void 0,null),le===null)throw Error(R(349));jt&30||wf(n,e,r)}return r}function wf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function If(t,e,n,o){e.value=n,e.getSnapshot=o,Nf(e)&&Rf(t)}function Af(t,e,n){return n(function(){Nf(e)&&Rf(t)})}function Nf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!je(t,n)}catch{return!0}}function Rf(t){var e=mt(t,1);e!==null&&Qe(e,t,1,-1)}function Xa(t){var e=nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ro,lastRenderedState:t},e.queue=t,t=t.dispatch=cg.bind(null,Z,t),[e.memoizedState,t]}function ko(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function kf(){return $e().memoizedState}function mr(t,e,n,o){var r=nt();Z.flags|=t,r.memoizedState=ko(1|e,n,void 0,o===void 0?null:o)}function ri(t,e,n,o){var r=$e();o=o===void 0?null:o;var i=void 0;if(re!==null){var l=re.memoizedState;if(i=l.destroy,o!==null&&Fl(o,l.deps)){r.memoizedState=ko(e,n,i,o);return}}Z.flags|=t,r.memoizedState=ko(1|e,n,i,o)}function Za(t,e){return mr(8390656,8,t,e)}function Hl(t,e){return ri(2048,8,t,e)}function Pf(t,e){return ri(4,2,t,e)}function Mf(t,e){return ri(4,4,t,e)}function Df(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lf(t,e,n){return n=n!=null?n.concat([t]):null,ri(4,4,Df.bind(null,e,t),n)}function Bl(){}function Uf(t,e){var n=$e();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Fl(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Ff(t,e){var n=$e();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Fl(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function Vf(t,e,n){return jt&21?(je(n,e)||(n=qd(),Z.lanes|=n,en|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ae=!0),t.memoizedState=n)}function ag(t,e){var n=O;O=n!==0&&4>n?n:4,t(!0);var o=Bi.transition;Bi.transition={};try{t(!1),e()}finally{O=n,Bi.transition=o}}function Gf(){return $e().memoizedState}function ug(t,e,n){var o=Lt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Hf(t))Bf(e,n);else if(n=Ef(t,e,n,o),n!==null){var r=_e();Qe(n,t,o,r),qf(n,e,o)}}function cg(t,e,n){var o=Lt(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hf(t))Bf(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,je(u,l)){var c=e.interleaved;c===null?(r.next=r,Pl(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=Ef(t,e,r,o),n!==null&&(r=_e(),Qe(n,t,o,r),qf(n,e,o))}}function Hf(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Bf(t,e){co=Gr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qf(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,yl(t,n)}}var Hr={readContext:ze,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},dg={readContext:ze,useCallback:function(t,e){return nt().memoizedState=[t,e===void 0?null:e],t},useContext:ze,useEffect:Za,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mr(4194308,4,Df.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mr(4194308,4,t,e)},useInsertionEffect:function(t,e){return mr(4,2,t,e)},useMemo:function(t,e){var n=nt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=nt();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=ug.bind(null,Z,t),[o.memoizedState,t]},useRef:function(t){var e=nt();return t={current:t},e.memoizedState=t},useState:Xa,useDebugValue:Bl,useDeferredValue:function(t){return nt().memoizedState=t},useTransition:function(){var t=Xa(!1),e=t[0];return t=ag.bind(null,t[1]),nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=Z,r=nt();if(Q){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),le===null)throw Error(R(349));jt&30||wf(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Za(Af.bind(null,o,i,t),[t]),o.flags|=2048,ko(9,If.bind(null,o,i,n,e),void 0,null),n},useId:function(){var t=nt(),e=le.identifierPrefix;if(Q){var n=ct,o=ut;n=(o&~(1<<32-Ye(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=No++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fg={readContext:ze,useCallback:Uf,useContext:ze,useEffect:Hl,useImperativeHandle:Lf,useInsertionEffect:Pf,useLayoutEffect:Mf,useMemo:Ff,useReducer:qi,useRef:kf,useState:function(){return qi(Ro)},useDebugValue:Bl,useDeferredValue:function(t){var e=$e();return Vf(e,re.memoizedState,t)},useTransition:function(){var t=qi(Ro)[0],e=$e().memoizedState;return[t,e]},useMutableSource:Cf,useSyncExternalStore:xf,useId:Gf,unstable_isNewReconciler:!1},pg={readContext:ze,useCallback:Uf,useContext:ze,useEffect:Hl,useImperativeHandle:Lf,useInsertionEffect:Pf,useLayoutEffect:Mf,useMemo:Ff,useReducer:zi,useRef:kf,useState:function(){return zi(Ro)},useDebugValue:Bl,useDeferredValue:function(t){var e=$e();return re===null?e.memoizedState=t:Vf(e,re.memoizedState,t)},useTransition:function(){var t=zi(Ro)[0],e=$e().memoizedState;return[t,e]},useMutableSource:Cf,useSyncExternalStore:xf,useId:Gf,unstable_isNewReconciler:!1};function Oe(t,e){if(t&&t.defaultProps){e=j({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ns(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:j({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ii={isMounted:function(t){return(t=t._reactInternals)?on(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=_e(),r=Lt(t),i=dt(o,r);i.payload=e,n!=null&&(i.callback=n),e=Mt(t,i,r),e!==null&&(Qe(e,t,r,o),fr(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=_e(),r=Lt(t),i=dt(o,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mt(t,i,r),e!==null&&(Qe(e,t,r,o),fr(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_e(),o=Lt(t),r=dt(n,o);r.tag=2,e!=null&&(r.callback=e),e=Mt(t,r,o),e!==null&&(Qe(e,t,o,n),fr(e,t,o))}};function ja(t,e,n,o,r,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!_o(n,o)||!_o(r,i):!0}function zf(t,e,n){var o=!1,r=Vt,i=e.contextType;return typeof i=="object"&&i!==null?i=ze(i):(r=Re(e)?Xt:ve.current,o=e.contextTypes,i=(o=o!=null)?Mn(t,r):Vt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ii,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function eu(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&ii.enqueueReplaceState(e,e.state,null)}function Rs(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Ml(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=ze(i):(i=Re(e)?Xt:ve.current,r.context=Mn(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ns(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ii.enqueueReplaceState(r,r.state,null),Fr(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Fn(t,e){try{var n="",o=e;do n+=qm(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function $i(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ks(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mg=typeof WeakMap=="function"?WeakMap:Map;function $f(t,e,n){n=dt(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){qr||(qr=!0,Bs=o),ks(t,e)},n}function bf(t,e,n){n=dt(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){ks(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ks(t,e),typeof o!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function tu(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new mg;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=Ng.bind(null,t,e,n),e.then(t,t))}function nu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ou(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dt(-1,1),e.tag=2,Mt(n,e,1))),n.lanes|=1),t)}var hg=yt.ReactCurrentOwner,Ae=!1;function Te(t,e,n,o){e.child=t===null?Sf(e,null,n,o):Ln(e,t.child,n,o)}function ru(t,e,n,o,r){n=n.render;var i=e.ref;return An(e,r),o=Vl(t,e,n,o,i,r),n=Gl(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ht(t,e,r)):(Q&&n&&wl(e),e.flags|=1,Te(t,e,o,r),e.child)}function iu(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!Kl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Jf(t,e,i,o,r)):(t=vr(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(l,o)&&t.ref===e.ref)return ht(t,e,r)}return e.flags|=1,t=Ut(i,o),t.ref=e.ref,t.return=e,e.child=t}function Jf(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(_o(i,o)&&t.ref===e.ref)if(Ae=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(Ae=!0);else return e.lanes=t.lanes,ht(t,e,r)}return Ps(t,e,n,o,r)}function Of(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(En,Pe),Pe|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,W(En,Pe),Pe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,W(En,Pe),Pe|=o}else i!==null?(o=i.baseLanes|n,e.memoizedState=null):o=n,W(En,Pe),Pe|=o;return Te(t,e,r,n),e.child}function Wf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ps(t,e,n,o,r){var i=Re(n)?Xt:ve.current;return i=Mn(e,i),An(e,r),n=Vl(t,e,n,o,i,r),o=Gl(),t!==null&&!Ae?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ht(t,e,r)):(Q&&o&&wl(e),e.flags|=1,Te(t,e,n,r),e.child)}function su(t,e,n,o,r){if(Re(n)){var i=!0;Pr(e)}else i=!1;if(An(e,r),e.stateNode===null)hr(t,e),zf(e,n,o),Rs(e,n,o,r),o=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=ze(d):(d=Re(n)?Xt:ve.current,d=Mn(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&eu(e,l,o,d),Ct=!1;var p=e.memoizedState;l.state=p,Fr(e,o,l,r),c=e.memoizedState,u!==o||p!==c||Ne.current||Ct?(typeof f=="function"&&(Ns(e,n,f,o),c=e.memoizedState),(u=Ct||ja(e,n,u,o,p,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,Tf(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Oe(e.type,u),l.props=d,m=e.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=ze(c):(c=Re(n)?Xt:ve.current,c=Mn(e,c));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||p!==c)&&eu(e,l,o,c),Ct=!1,p=e.memoizedState,l.state=p,Fr(e,o,l,r);var E=e.memoizedState;u!==m||p!==E||Ne.current||Ct?(typeof h=="function"&&(Ns(e,n,h,o),E=e.memoizedState),(d=Ct||ja(e,n,d,o,p,E,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,E,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=E),l.props=o,l.state=E,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),o=!1)}return Ms(t,e,n,o,i,r)}function Ms(t,e,n,o,r,i){Wf(t,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&Ja(e,n,!1),ht(t,e,i);o=e.stateNode,hg.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&l?(e.child=Ln(e,t.child,null,i),e.child=Ln(e,null,u,i)):Te(t,e,u,i),e.memoizedState=o.state,r&&Ja(e,n,!0),e.child}function Kf(t){var e=t.stateNode;e.pendingContext?ba(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ba(t,e.context,!1),Dl(t,e.containerInfo)}function lu(t,e,n,o,r){return Dn(),Al(r),e.flags|=256,Te(t,e,n,o),e.child}var Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yf(t,e,n){var o=e.pendingProps,r=X.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),W(X,r&1),t===null)return Is(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,t=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ai(l,o,0,null),t=Qt(t,o,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ls(n),e.memoizedState=Ds,t):ql(e,l));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return gg(t,e,l,o,u,r,n);if(i){i=o.fallback,l=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=Ut(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Ut(u,i):(i=Qt(i,l,n,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=t.child.memoizedState,l=l===null?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Ds,o}return i=t.child,t=i.sibling,o=Ut(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function ql(t,e){return e=ai({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xo(t,e,n,o){return o!==null&&Al(o),Ln(e,t.child,null,n),t=ql(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gg(t,e,n,o,r,i,l){if(n)return e.flags&256?(e.flags&=-257,o=$i(Error(R(422))),Xo(t,e,l,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=ai({mode:"visible",children:o.children},r,0,null),i=Qt(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Ln(e,t.child,null,l),e.child.memoizedState=Ls(l),e.memoizedState=Ds,i);if(!(e.mode&1))return Xo(t,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(R(419)),o=$i(i,o,void 0),Xo(t,e,l,o)}if(u=(l&t.childLanes)!==0,Ae||u){if(o=le,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,mt(t,r),Qe(o,t,r,-1))}return Wl(),o=$i(Error(R(421))),Xo(t,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Rg.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Me=Pt(r.nextSibling),De=e,Q=!0,Ke=null,t!==null&&(Ve[Ge++]=ut,Ve[Ge++]=ct,Ve[Ge++]=Zt,ut=t.id,ct=t.overflow,Zt=e),e=ql(e,o.children),e.flags|=4096,e)}function au(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),As(t.return,e,n)}function bi(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Qf(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Te(t,e,o.children,n),o=X.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&au(t,n,e);else if(t.tag===19)au(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(W(X,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vr(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),bi(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vr(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}bi(e,!0,n,null,i);break;case"together":bi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ht(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),en|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Ut(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ut(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yg(t,e,n){switch(e.tag){case 3:Kf(e),Dn();break;case 5:_f(e);break;case 1:Re(e.type)&&Pr(e);break;case 4:Dl(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;W(Lr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(W(X,X.current&1),e.flags|=128,null):n&e.child.childLanes?Yf(t,e,n):(W(X,X.current&1),t=ht(t,e,n),t!==null?t.sibling:null);W(X,X.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return Qf(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),W(X,X.current),o)break;return null;case 22:case 23:return e.lanes=0,Of(t,e,n)}return ht(t,e,n)}var Xf,Us,Zf,jf;Xf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Us=function(){};Zf=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,Kt(it.current);var i=null;switch(n){case"input":r=os(t,r),o=os(t,o),i=[];break;case"select":r=j({},r,{value:void 0}),o=j({},o,{value:void 0}),i=[];break;case"textarea":r=ss(t,r),o=ss(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Rr)}as(n,o);var l;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ho.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ho.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&K("scroll",t),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};jf=function(t,e,n,o){n!==o&&(e.flags|=4)};function Qn(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function he(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function vg(t,e,n){var o=e.pendingProps;switch(Il(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return Re(e.type)&&kr(),he(e),null;case 3:return o=e.stateNode,Un(),Y(Ne),Y(ve),Ul(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ke!==null&&($s(Ke),Ke=null))),Us(t,e),he(e),null;case 5:Ll(e);var r=Kt(Ao.current);if(n=e.type,t!==null&&e.stateNode!=null)Zf(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(R(166));return he(e),null}if(t=Kt(it.current),Yo(e)){o=e.stateNode,n=e.type;var i=e.memoizedProps;switch(o[ot]=e,o[wo]=i,t=(e.mode&1)!==0,n){case"dialog":K("cancel",o),K("close",o);break;case"iframe":case"object":case"embed":K("load",o);break;case"video":case"audio":for(r=0;r<oo.length;r++)K(oo[r],o);break;case"source":K("error",o);break;case"img":case"image":case"link":K("error",o),K("load",o);break;case"details":K("toggle",o);break;case"input":ya(o,i),K("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},K("invalid",o);break;case"textarea":Sa(o,i),K("invalid",o)}as(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&Ko(o.textContent,u,t),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Ko(o.textContent,u,t),r=["children",""+u]):ho.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&K("scroll",o)}switch(n){case"input":Bo(o),va(o,i,!0);break;case"textarea":Bo(o),Ea(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Rr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Id(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=l.createElement(n,{is:o.is}):(t=l.createElement(n),n==="select"&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,n),t[ot]=e,t[wo]=o,Xf(t,e,!1,!1),e.stateNode=t;e:{switch(l=us(n,o),n){case"dialog":K("cancel",t),K("close",t),r=o;break;case"iframe":case"object":case"embed":K("load",t),r=o;break;case"video":case"audio":for(r=0;r<oo.length;r++)K(oo[r],t);r=o;break;case"source":K("error",t),r=o;break;case"img":case"image":case"link":K("error",t),K("load",t),r=o;break;case"details":K("toggle",t),r=o;break;case"input":ya(t,o),r=os(t,o),K("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=j({},o,{value:void 0}),K("invalid",t);break;case"textarea":Sa(t,o),r=ss(t,o),K("invalid",t);break;default:r=o}as(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Rd(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ad(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&go(t,c):typeof c=="number"&&go(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ho.hasOwnProperty(i)?c!=null&&i==="onScroll"&&K("scroll",t):c!=null&&dl(t,i,c,l))}switch(n){case"input":Bo(t),va(t,o,!1);break;case"textarea":Bo(t),Ea(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Ft(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?Cn(t,!!o.multiple,i,!1):o.defaultValue!=null&&Cn(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Rr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(t&&e.stateNode!=null)jf(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(R(166));if(n=Kt(Ao.current),Kt(it.current),Yo(e)){if(o=e.stateNode,n=e.memoizedProps,o[ot]=e,(i=o.nodeValue!==n)&&(t=De,t!==null))switch(t.tag){case 3:Ko(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ko(o.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[ot]=e,e.stateNode=o}return he(e),null;case 13:if(Y(X),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Me!==null&&e.mode&1&&!(e.flags&128))yf(),Dn(),e.flags|=98560,i=!1;else if(i=Yo(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[ot]=e}else Dn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else Ke!==null&&($s(Ke),Ke=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?ie===0&&(ie=3):Wl())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return Un(),Us(t,e),t===null&&Co(e.stateNode.containerInfo),he(e),null;case 10:return kl(e.type._context),he(e),null;case 17:return Re(e.type)&&kr(),he(e),null;case 19:if(Y(X),i=e.memoizedState,i===null)return he(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)Qn(i,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Vr(t),l!==null){for(e.flags|=128,Qn(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)i=n,t=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return W(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&te()>Vn&&(e.flags|=128,o=!0,Qn(i,!1),e.lanes=4194304)}else{if(!o)if(t=Vr(l),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Q)return he(e),null}else 2*te()-i.renderingStartTime>Vn&&n!==1073741824&&(e.flags|=128,o=!0,Qn(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=te(),e.sibling=null,n=X.current,W(X,o?n&1|2:n&1),e):(he(e),null);case 22:case 23:return Ol(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Pe&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function Sg(t,e){switch(Il(e),e.tag){case 1:return Re(e.type)&&kr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Un(),Y(Ne),Y(ve),Ul(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ll(e),null;case 13:if(Y(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Dn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(X),null;case 4:return Un(),null;case 10:return kl(e.type._context),null;case 22:case 23:return Ol(),null;case 24:return null;default:return null}}var Zo=!1,ge=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,U=null;function Sn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){ee(t,e,o)}else n.current=null}function Fs(t,e,n){try{n()}catch(o){ee(t,e,o)}}var uu=!1;function Tg(t,e){if(Ss=Ir,t=of(),xl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,m=t,p=null;t:for(;;){for(var h;m!==n||r!==0&&m.nodeType!==3||(u=l+r),m!==i||o!==0&&m.nodeType!==3||(c=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===t)break t;if(p===n&&++d===r&&(u=l),p===i&&++f===o&&(c=l),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Es={focusedElem:t,selectionRange:n},Ir=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,C=E.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?T:Oe(e.type,T),C);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(_){ee(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return E=uu,uu=!1,E}function fo(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Fs(e,n,i)}r=r.next}while(r!==o)}}function si(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Vs(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ep(t){var e=t.alternate;e!==null&&(t.alternate=null,ep(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ot],delete e[wo],delete e[Cs],delete e[og],delete e[rg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tp(t){return t.tag===5||t.tag===3||t.tag===4}function cu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rr));else if(o!==4&&(t=t.child,t!==null))for(Gs(t,e,n),t=t.sibling;t!==null;)Gs(t,e,n),t=t.sibling}function Hs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Hs(t,e,n),t=t.sibling;t!==null;)Hs(t,e,n),t=t.sibling}var de=null,We=!1;function Tt(t,e,n){for(n=n.child;n!==null;)np(t,e,n),n=n.sibling}function np(t,e,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Zr,n)}catch{}switch(n.tag){case 5:ge||Sn(n,e);case 6:var o=de,r=We;de=null,Tt(t,e,n),de=o,We=r,de!==null&&(We?(t=de,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(We?(t=de,n=n.stateNode,t.nodeType===8?Vi(t.parentNode,n):t.nodeType===1&&Vi(t,n),Eo(t)):Vi(de,n.stateNode));break;case 4:o=de,r=We,de=n.stateNode.containerInfo,We=!0,Tt(t,e,n),de=o,We=r;break;case 0:case 11:case 14:case 15:if(!ge&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Fs(n,e,l),r=r.next}while(r!==o)}Tt(t,e,n);break;case 1:if(!ge&&(Sn(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){ee(n,e,u)}Tt(t,e,n);break;case 21:Tt(t,e,n);break;case 22:n.mode&1?(ge=(o=ge)||n.memoizedState!==null,Tt(t,e,n),ge=o):Tt(t,e,n);break;default:Tt(t,e,n)}}function du(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Eg),e.forEach(function(o){var r=kg.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Je(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:de=u.stateNode,We=!1;break e;case 3:de=u.stateNode.containerInfo,We=!0;break e;case 4:de=u.stateNode.containerInfo,We=!0;break e}u=u.return}if(de===null)throw Error(R(160));np(i,l,r),de=null,We=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){ee(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)op(e,t),e=e.sibling}function op(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Je(e,t),tt(t),o&4){try{fo(3,t,t.return),si(3,t)}catch(T){ee(t,t.return,T)}try{fo(5,t,t.return)}catch(T){ee(t,t.return,T)}}break;case 1:Je(e,t),tt(t),o&512&&n!==null&&Sn(n,n.return);break;case 5:if(Je(e,t),tt(t),o&512&&n!==null&&Sn(n,n.return),t.flags&32){var r=t.stateNode;try{go(r,"")}catch(T){ee(t,t.return,T)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&xd(r,i),us(u,l);var d=us(u,i);for(l=0;l<c.length;l+=2){var f=c[l],m=c[l+1];f==="style"?Rd(r,m):f==="dangerouslySetInnerHTML"?Ad(r,m):f==="children"?go(r,m):dl(r,f,m,d)}switch(u){case"input":rs(r,i);break;case"textarea":wd(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Cn(r,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?Cn(r,!!i.multiple,i.defaultValue,!0):Cn(r,!!i.multiple,i.multiple?[]:"",!1))}r[wo]=i}catch(T){ee(t,t.return,T)}}break;case 6:if(Je(e,t),tt(t),o&4){if(t.stateNode===null)throw Error(R(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(T){ee(t,t.return,T)}}break;case 3:if(Je(e,t),tt(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Eo(e.containerInfo)}catch(T){ee(t,t.return,T)}break;case 4:Je(e,t),tt(t);break;case 13:Je(e,t),tt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(bl=te())),o&4&&du(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ge=(d=ge)||f,Je(e,t),ge=d):Je(e,t),tt(t),o&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(U=t,f=t.child;f!==null;){for(m=U=f;U!==null;){switch(p=U,h=p.child,p.tag){case 0:case 11:case 14:case 15:fo(4,p,p.return);break;case 1:Sn(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,n=p.return;try{e=o,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(T){ee(o,n,T)}}break;case 5:Sn(p,p.return);break;case 22:if(p.memoizedState!==null){pu(m);continue}}h!==null?(h.return=p,U=h):pu(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{r=m.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Nd("display",l))}catch(T){ee(t,t.return,T)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(T){ee(t,t.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Je(e,t),tt(t),o&4&&du(t);break;case 21:break;default:Je(e,t),tt(t)}}function tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tp(n)){var o=n;break e}n=n.return}throw Error(R(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(go(r,""),o.flags&=-33);var i=cu(t);Hs(t,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=cu(t);Gs(t,u,l);break;default:throw Error(R(161))}}catch(c){ee(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _g(t,e,n){U=t,rp(t)}function rp(t,e,n){for(var o=(t.mode&1)!==0;U!==null;){var r=U,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||Zo;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||ge;u=Zo;var d=ge;if(Zo=l,(ge=c)&&!d)for(U=r;U!==null;)l=U,c=l.child,l.tag===22&&l.memoizedState!==null?mu(r):c!==null?(c.return=l,U=c):mu(r);for(;i!==null;)U=i,rp(i),i=i.sibling;U=r,Zo=u,ge=d}fu(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,U=i):fu(t)}}function fu(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||si(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!ge)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Oe(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qa(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qa(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Eo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}ge||e.flags&512&&Vs(e)}catch(p){ee(e,e.return,p)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function pu(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function mu(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{si(4,e)}catch(c){ee(e,n,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(c){ee(e,r,c)}}var i=e.return;try{Vs(e)}catch(c){ee(e,i,c)}break;case 5:var l=e.return;try{Vs(e)}catch(c){ee(e,l,c)}}}catch(c){ee(e,e.return,c)}if(e===t){U=null;break}var u=e.sibling;if(u!==null){u.return=e.return,U=u;break}U=e.return}}var Cg=Math.ceil,Br=yt.ReactCurrentDispatcher,zl=yt.ReactCurrentOwner,Be=yt.ReactCurrentBatchConfig,q=0,le=null,oe=null,fe=0,Pe=0,En=Ht(0),ie=0,Po=null,en=0,li=0,$l=0,po=null,Ie=null,bl=0,Vn=1/0,lt=null,qr=!1,Bs=null,Dt=null,jo=!1,At=null,zr=0,mo=0,qs=null,gr=-1,yr=0;function _e(){return q&6?te():gr!==-1?gr:gr=te()}function Lt(t){return t.mode&1?q&2&&fe!==0?fe&-fe:sg.transition!==null?(yr===0&&(yr=qd()),yr):(t=O,t!==0||(t=window.event,t=t===void 0?16:Kd(t.type)),t):1}function Qe(t,e,n,o){if(50<mo)throw mo=0,qs=null,Error(R(185));Do(t,n,o),(!(q&2)||t!==le)&&(t===le&&(!(q&2)&&(li|=n),ie===4&&wt(t,fe)),ke(t,o),n===1&&q===0&&!(e.mode&1)&&(Vn=te()+500,oi&&Bt()))}function ke(t,e){var n=t.callbackNode;sh(t,e);var o=wr(t,t===le?fe:0);if(o===0)n!==null&&Ca(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&Ca(n),e===1)t.tag===0?ig(hu.bind(null,t)):mf(hu.bind(null,t)),tg(function(){!(q&6)&&Bt()}),n=null;else{switch(zd(o)){case 1:n=gl;break;case 4:n=Hd;break;case 16:n=xr;break;case 536870912:n=Bd;break;default:n=xr}n=fp(n,ip.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ip(t,e){if(gr=-1,yr=0,q&6)throw Error(R(327));var n=t.callbackNode;if(Nn()&&t.callbackNode!==n)return null;var o=wr(t,t===le?fe:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=$r(t,o);else{e=o;var r=q;q|=2;var i=lp();(le!==t||fe!==e)&&(lt=null,Vn=te()+500,Yt(t,e));do try{Ig();break}catch(u){sp(t,u)}while(!0);Rl(),Br.current=i,q=r,oe!==null?e=0:(le=null,fe=0,e=ie)}if(e!==0){if(e===2&&(r=ms(t),r!==0&&(o=r,e=zs(t,r))),e===1)throw n=Po,Yt(t,0),wt(t,o),ke(t,te()),n;if(e===6)wt(t,o);else{if(r=t.current.alternate,!(o&30)&&!xg(r)&&(e=$r(t,o),e===2&&(i=ms(t),i!==0&&(o=i,e=zs(t,i))),e===1))throw n=Po,Yt(t,0),wt(t,o),ke(t,te()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(R(345));case 2:bt(t,Ie,lt);break;case 3:if(wt(t,o),(o&130023424)===o&&(e=bl+500-te(),10<e)){if(wr(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){_e(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=_s(bt.bind(null,t,Ie,lt),e);break}bt(t,Ie,lt);break;case 4:if(wt(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var l=31-Ye(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=te()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Cg(o/1960))-o,10<o){t.timeoutHandle=_s(bt.bind(null,t,Ie,lt),o);break}bt(t,Ie,lt);break;case 5:bt(t,Ie,lt);break;default:throw Error(R(329))}}}return ke(t,te()),t.callbackNode===n?ip.bind(null,t):null}function zs(t,e){var n=po;return t.current.memoizedState.isDehydrated&&(Yt(t,e).flags|=256),t=$r(t,e),t!==2&&(e=Ie,Ie=n,e!==null&&$s(e)),t}function $s(t){Ie===null?Ie=t:Ie.push.apply(Ie,t)}function xg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!je(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wt(t,e){for(e&=~$l,e&=~li,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ye(e),o=1<<n;t[n]=-1,e&=~o}}function hu(t){if(q&6)throw Error(R(327));Nn();var e=wr(t,0);if(!(e&1))return ke(t,te()),null;var n=$r(t,e);if(t.tag!==0&&n===2){var o=ms(t);o!==0&&(e=o,n=zs(t,o))}if(n===1)throw n=Po,Yt(t,0),wt(t,e),ke(t,te()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bt(t,Ie,lt),ke(t,te()),null}function Jl(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Vn=te()+500,oi&&Bt())}}function tn(t){At!==null&&At.tag===0&&!(q&6)&&Nn();var e=q;q|=1;var n=Be.transition,o=O;try{if(Be.transition=null,O=1,t)return t()}finally{O=o,Be.transition=n,q=e,!(q&6)&&Bt()}}function Ol(){Pe=En.current,Y(En)}function Yt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eg(n)),oe!==null)for(n=oe.return;n!==null;){var o=n;switch(Il(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&kr();break;case 3:Un(),Y(Ne),Y(ve),Ul();break;case 5:Ll(o);break;case 4:Un();break;case 13:Y(X);break;case 19:Y(X);break;case 10:kl(o.type._context);break;case 22:case 23:Ol()}n=n.return}if(le=t,oe=t=Ut(t.current,null),fe=Pe=e,ie=0,Po=null,$l=li=en=0,Ie=po=null,Wt!==null){for(e=0;e<Wt.length;e++)if(n=Wt[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}Wt=null}return t}function sp(t,e){do{var n=oe;try{if(Rl(),pr.current=Hr,Gr){for(var o=Z.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Gr=!1}if(jt=0,se=re=Z=null,co=!1,No=0,zl.current=null,n===null||n.return===null){ie=1,Po=e,oe=null;break}e:{var i=t,l=n.return,u=n,c=e;if(e=fe,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=nu(l);if(h!==null){h.flags&=-257,ou(h,l,u,i,e),h.mode&1&&tu(i,d,e),e=h,c=d;var E=e.updateQueue;if(E===null){var T=new Set;T.add(c),e.updateQueue=T}else E.add(c);break e}else{if(!(e&1)){tu(i,d,e),Wl();break e}c=Error(R(426))}}else if(Q&&u.mode&1){var C=nu(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ou(C,l,u,i,e),Al(Fn(c,u));break e}}i=c=Fn(c,u),ie!==4&&(ie=2),po===null?po=[i]:po.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=$f(i,c,e);Ya(i,v);break e;case 1:u=c;var y=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Dt===null||!Dt.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=bf(i,u,e);Ya(i,_);break e}}i=i.return}while(i!==null)}up(n)}catch(I){e=I,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function lp(){var t=Br.current;return Br.current=Hr,t===null?Hr:t}function Wl(){(ie===0||ie===3||ie===2)&&(ie=4),le===null||!(en&268435455)&&!(li&268435455)||wt(le,fe)}function $r(t,e){var n=q;q|=2;var o=lp();(le!==t||fe!==e)&&(lt=null,Yt(t,e));do try{wg();break}catch(r){sp(t,r)}while(!0);if(Rl(),q=n,Br.current=o,oe!==null)throw Error(R(261));return le=null,fe=0,ie}function wg(){for(;oe!==null;)ap(oe)}function Ig(){for(;oe!==null&&!Xm();)ap(oe)}function ap(t){var e=dp(t.alternate,t,Pe);t.memoizedProps=t.pendingProps,e===null?up(t):oe=e,zl.current=null}function up(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Sg(n,e),n!==null){n.flags&=32767,oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ie=6,oe=null;return}}else if(n=vg(n,e,Pe),n!==null){oe=n;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);ie===0&&(ie=5)}function bt(t,e,n){var o=O,r=Be.transition;try{Be.transition=null,O=1,Ag(t,e,n,o)}finally{Be.transition=r,O=o}return null}function Ag(t,e,n,o){do Nn();while(At!==null);if(q&6)throw Error(R(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(lh(t,i),t===le&&(oe=le=null,fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jo||(jo=!0,fp(xr,function(){return Nn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var l=O;O=1;var u=q;q|=4,zl.current=null,Tg(t,n),op(n,t),Wh(Es),Ir=!!Ss,Es=Ss=null,t.current=n,_g(n),Zm(),q=u,O=l,Be.transition=i}else t.current=n;if(jo&&(jo=!1,At=t,zr=r),i=t.pendingLanes,i===0&&(Dt=null),th(n.stateNode),ke(t,te()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(qr)throw qr=!1,t=Bs,Bs=null,t;return zr&1&&t.tag!==0&&Nn(),i=t.pendingLanes,i&1?t===qs?mo++:(mo=0,qs=t):mo=0,Bt(),null}function Nn(){if(At!==null){var t=zd(zr),e=Be.transition,n=O;try{if(Be.transition=null,O=16>t?16:t,At===null)var o=!1;else{if(t=At,At=null,zr=0,q&6)throw Error(R(331));var r=q;for(q|=4,U=t.current;U!==null;){var i=U,l=i.child;if(U.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(U=d;U!==null;){var f=U;switch(f.tag){case 0:case 11:case 15:fo(8,f,i)}var m=f.child;if(m!==null)m.return=f,U=m;else for(;U!==null;){f=U;var p=f.sibling,h=f.return;if(ep(f),f===d){U=null;break}if(p!==null){p.return=h,U=p;break}U=h}}}var E=i.alternate;if(E!==null){var T=E.child;if(T!==null){E.child=null;do{var C=T.sibling;T.sibling=null,T=C}while(T!==null)}}U=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,U=l;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,U=v;break e}U=i.return}}var y=t.current;for(U=y;U!==null;){l=U;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,U=S;else e:for(l=y;U!==null;){if(u=U,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:si(9,u)}}catch(I){ee(u,u.return,I)}if(u===l){U=null;break e}var _=u.sibling;if(_!==null){_.return=u.return,U=_;break e}U=u.return}}if(q=r,Bt(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Zr,t)}catch{}o=!0}return o}finally{O=n,Be.transition=e}}return!1}function gu(t,e,n){e=Fn(n,e),e=$f(t,e,1),t=Mt(t,e,1),e=_e(),t!==null&&(Do(t,1,e),ke(t,e))}function ee(t,e,n){if(t.tag===3)gu(t,t,n);else for(;e!==null;){if(e.tag===3){gu(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dt===null||!Dt.has(o))){t=Fn(n,t),t=bf(e,t,1),e=Mt(e,t,1),t=_e(),e!==null&&(Do(e,1,t),ke(e,t));break}}e=e.return}}function Ng(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=_e(),t.pingedLanes|=t.suspendedLanes&n,le===t&&(fe&n)===n&&(ie===4||ie===3&&(fe&130023424)===fe&&500>te()-bl?Yt(t,0):$l|=n),ke(t,e)}function cp(t,e){e===0&&(t.mode&1?(e=$o,$o<<=1,!($o&130023424)&&($o=4194304)):e=1);var n=_e();t=mt(t,e),t!==null&&(Do(t,e,n),ke(t,n))}function Rg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cp(t,n)}function kg(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(R(314))}o!==null&&o.delete(e),cp(t,n)}var dp;dp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ne.current)Ae=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ae=!1,yg(t,e,n);Ae=!!(t.flags&131072)}else Ae=!1,Q&&e.flags&1048576&&hf(e,Dr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;hr(t,e),t=e.pendingProps;var r=Mn(e,ve.current);An(e,n),r=Vl(null,e,o,t,r,n);var i=Gl();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(o)?(i=!0,Pr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ml(e),r.updater=ii,e.stateNode=r,r._reactInternals=e,Rs(e,o,t,n),e=Ms(null,e,o,!0,i,n)):(e.tag=0,Q&&i&&wl(e),Te(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(hr(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=Mg(o),t=Oe(o,t),r){case 0:e=Ps(null,e,o,t,n);break e;case 1:e=su(null,e,o,t,n);break e;case 11:e=ru(null,e,o,t,n);break e;case 14:e=iu(null,e,o,Oe(o.type,t),n);break e}throw Error(R(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Oe(o,r),Ps(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Oe(o,r),su(t,e,o,r,n);case 3:e:{if(Kf(e),t===null)throw Error(R(387));o=e.pendingProps,i=e.memoizedState,r=i.element,Tf(t,e),Fr(e,o,null,n);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Fn(Error(R(423)),e),e=lu(t,e,o,n,r);break e}else if(o!==r){r=Fn(Error(R(424)),e),e=lu(t,e,o,n,r);break e}else for(Me=Pt(e.stateNode.containerInfo.firstChild),De=e,Q=!0,Ke=null,n=Sf(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dn(),o===r){e=ht(t,e,n);break e}Te(t,e,o,n)}e=e.child}return e;case 5:return _f(e),t===null&&Is(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,l=r.children,Ts(o,r)?l=null:i!==null&&Ts(o,i)&&(e.flags|=32),Wf(t,e),Te(t,e,l,n),e.child;case 6:return t===null&&Is(e),null;case 13:return Yf(t,e,n);case 4:return Dl(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Ln(e,null,o,n):Te(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Oe(o,r),ru(t,e,o,r,n);case 7:return Te(t,e,e.pendingProps,n),e.child;case 8:return Te(t,e,e.pendingProps.children,n),e.child;case 12:return Te(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,W(Lr,o._currentValue),o._currentValue=l,i!==null)if(je(i.value,l)){if(i.children===r.children&&!Ne.current){e=ht(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=dt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),As(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(R(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),As(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Te(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,An(e,n),r=ze(r),o=o(r),e.flags|=1,Te(t,e,o,n),e.child;case 14:return o=e.type,r=Oe(o,e.pendingProps),r=Oe(o.type,r),iu(t,e,o,r,n);case 15:return Jf(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Oe(o,r),hr(t,e),e.tag=1,Re(o)?(t=!0,Pr(e)):t=!1,An(e,n),zf(e,o,r),Rs(e,o,r,n),Ms(null,e,o,!0,t,n);case 19:return Qf(t,e,n);case 22:return Of(t,e,n)}throw Error(R(156,e.tag))};function fp(t,e){return Gd(t,e)}function Pg(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,e,n,o){return new Pg(t,e,n,o)}function Kl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mg(t){if(typeof t=="function")return Kl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pl)return 11;if(t===ml)return 14}return 2}function Ut(t,e){var n=t.alternate;return n===null?(n=He(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vr(t,e,n,o,r,i){var l=2;if(o=t,typeof t=="function")Kl(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case cn:return Qt(n.children,r,i,e);case fl:l=8,r|=8;break;case ji:return t=He(12,n,e,r|2),t.elementType=ji,t.lanes=i,t;case es:return t=He(13,n,e,r),t.elementType=es,t.lanes=i,t;case ts:return t=He(19,n,e,r),t.elementType=ts,t.lanes=i,t;case Td:return ai(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sd:l=10;break e;case Ed:l=9;break e;case pl:l=11;break e;case ml:l=14;break e;case _t:l=16,o=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=He(l,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function Qt(t,e,n,o){return t=He(7,t,o,e),t.lanes=n,t}function ai(t,e,n,o){return t=He(22,t,o,e),t.elementType=Td,t.lanes=n,t.stateNode={isHidden:!1},t}function Ji(t,e,n){return t=He(6,t,null,e),t.lanes=n,t}function Oi(t,e,n){return e=He(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dg(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ii(0),this.expirationTimes=Ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Yl(t,e,n,o,r,i,l,u,c){return t=new Dg(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=He(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ml(i),t}function Lg(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:un,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function pp(t){if(!t)return Vt;t=t._reactInternals;e:{if(on(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(Re(n))return pf(t,n,e)}return e}function mp(t,e,n,o,r,i,l,u,c){return t=Yl(n,o,!0,t,r,i,l,u,c),t.context=pp(null),n=t.current,o=_e(),r=Lt(n),i=dt(o,r),i.callback=e??null,Mt(n,i,r),t.current.lanes=r,Do(t,r,o),ke(t,o),t}function ui(t,e,n,o){var r=e.current,i=_e(),l=Lt(r);return n=pp(n),e.context===null?e.context=n:e.pendingContext=n,e=dt(i,l),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Mt(r,e,l),t!==null&&(Qe(t,r,l,i),fr(t,r,l)),l}function br(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ql(t,e){yu(t,e),(t=t.alternate)&&yu(t,e)}function Ug(){return null}var hp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xl(t){this._internalRoot=t}ci.prototype.render=Xl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));ui(t,e,null,null)};ci.prototype.unmount=Xl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tn(function(){ui(null,t,null,null)}),e[pt]=null}};function ci(t){this._internalRoot=t}ci.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xt.length&&e!==0&&e<xt[n].priority;n++);xt.splice(n,0,t),n===0&&Wd(t)}};function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function di(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vu(){}function Fg(t,e,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=br(l);i.call(d)}}var l=mp(e,o,t,0,null,!1,!1,"",vu);return t._reactRootContainer=l,t[pt]=l.current,Co(t.nodeType===8?t.parentNode:t),tn(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=br(c);u.call(d)}}var c=Yl(t,0,!1,null,null,!1,!1,"",vu);return t._reactRootContainer=c,t[pt]=c.current,Co(t.nodeType===8?t.parentNode:t),tn(function(){ui(e,c,n,o)}),c}function fi(t,e,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=br(l);u.call(c)}}ui(e,l,t,r)}else l=Fg(n,e,t,r,o);return br(l)}$d=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=no(e.pendingLanes);n!==0&&(yl(e,n|1),ke(e,te()),!(q&6)&&(Vn=te()+500,Bt()))}break;case 13:tn(function(){var o=mt(t,1);if(o!==null){var r=_e();Qe(o,t,1,r)}}),Ql(t,1)}};vl=function(t){if(t.tag===13){var e=mt(t,134217728);if(e!==null){var n=_e();Qe(e,t,134217728,n)}Ql(t,134217728)}};bd=function(t){if(t.tag===13){var e=Lt(t),n=mt(t,e);if(n!==null){var o=_e();Qe(n,t,e,o)}Ql(t,e)}};Jd=function(){return O};Od=function(t,e){var n=O;try{return O=t,e()}finally{O=n}};ds=function(t,e,n){switch(e){case"input":if(rs(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=ni(o);if(!r)throw Error(R(90));Cd(o),rs(o,r)}}}break;case"textarea":wd(t,n);break;case"select":e=n.value,e!=null&&Cn(t,!!n.multiple,e,!1)}};Md=Jl;Dd=tn;var Vg={usingClientEntryPoint:!1,Events:[Uo,mn,ni,kd,Pd,Jl]},Xn={findFiberByHostInstance:Ot,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gg={bundleType:Xn.bundleType,version:Xn.version,rendererPackageName:Xn.rendererPackageName,rendererConfig:Xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fd(t),t===null?null:t.stateNode},findFiberByHostInstance:Xn.findFiberByHostInstance||Ug,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var er=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!er.isDisabled&&er.supportsFiber)try{Zr=er.inject(Gg),rt=er}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vg;Ue.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zl(e))throw Error(R(200));return Lg(t,e,null,n)};Ue.createRoot=function(t,e){if(!Zl(t))throw Error(R(299));var n=!1,o="",r=hp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Yl(t,1,!1,null,null,n,!1,o,r),t[pt]=e.current,Co(t.nodeType===8?t.parentNode:t),new Xl(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Fd(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return tn(t)};Ue.hydrate=function(t,e,n){if(!di(e))throw Error(R(200));return fi(null,t,e,!0,n)};Ue.hydrateRoot=function(t,e,n){if(!Zl(t))throw Error(R(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=hp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=mp(e,null,t,1,n??null,r,!1,i,l),t[pt]=e.current,Co(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new ci(e)};Ue.render=function(t,e,n){if(!di(e))throw Error(R(200));return fi(null,t,e,!1,n)};Ue.unmountComponentAtNode=function(t){if(!di(t))throw Error(R(40));return t._reactRootContainer?(tn(function(){fi(null,null,t,!1,function(){t._reactRootContainer=null,t[pt]=null})}),!0):!1};Ue.unstable_batchedUpdates=Jl;Ue.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!di(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return fi(t,e,n,!1,o)};Ue.version="18.3.1-next-f1338f8080-20240426";function gp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gp)}catch(t){console.error(t)}}gp(),hd.exports=Ue;var Hg=hd.exports,Su=Hg;Xi.createRoot=Su.createRoot,Xi.hydrateRoot=Su.hydrateRoot;const Eu=["Football (Soccer)","Basketball","American Football","Formula 1","Athletics","Swimming","Judo","Boxing","Handball","Volleyball","Gymnastics","Olympic sports","Weightlifting","Taekwondo","Fencing","Archery","Table Tennis","Tennis","Badminton","Cross country Skiing","Biathlon","Bobsleigh","Skeleton","Ski Jumping","All Other"],bs=["Sport 5","Sport 5 Plus","Sport 5 Live","Sport 5 Stars","Sport 5 Max","Sport 5 4K","Sport 5 Gold","Sport 1","Sport 2","Sport 3","Sport 4","Sport 6","One","One 2","Eurosport 1","Eurosport 2"],jl=`Act as a sports data expert. 
You MUST USE GOOGLE SEARCH to find the CONFIRMED, REAL-WORLD schedule of sports events for the specific date: {{DATE}}.
Do not invent or halluncinate events. Only list events that you can verify via search.

User Preferences:
- Sports to include: {{SPORTS}}
- Channels available (Israel): {{CHANNELS}}
- Specific Leagues of interest: {{LEAGUES}}
- Favorite Teams: {{TEAMS}}

Rules:
1. Times MUST be in Israel Time (IST).
2. Only include events broadcasted on the listed channels. If a channel is unknown but the event is major, list "TBD".
3. DO NOT include scores for upcoming events.
4. Status should be based on the assumption that "now" is the current real time, but strictly follow the requested date context.
5. IMPORTANT: List ALL scheduled events found for the selected sports.
6. For 'id', generate a unique string (e.g., hash of teams and time).

Output Requirement:
- Return strictly a valid JSON object matching the defined schema.`,ea=`Act as a sports journalist. 
USE GOOGLE SEARCH to find REAL match results and news for {{DATE}}.

Focus on these sports: {{SPORTS}}.
Prioritize coverage for these leagues: {{LEAGUES}}.
Mention news regarding these teams if available: {{TEAMS}}.

Rules:
1. 'summary': A concise, engaging paragraph about the key headlines found in search.
2. 'results': A list of key match results from that day (focus on favorites/followed leagues).
3. 'standings': A snapshot of the top 4 teams from a major league active on that day.

Output Requirement:
- Return strictly a valid JSON object matching the defined schema.`;var Bg={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qg,zg;function $g(){return{geminiUrl:qg,vertexUrl:zg}}function bg(t,e,n,o){var r,i;if(!(t!=null&&t.baseUrl)){const l=$g();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vt{}function M(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(t,e,n){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,e.slice(i+1),n[d])}else for(const d of c)a(d,e.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];a(c[0],e.slice(i+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const l=t[i];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function Jg(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Js(t,r,i,0,l)}}function Js(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const c of u[l])Js(c,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const m=[];for(const p of n.slice(o))p==="*"?m.push(d):m.push(p);a(l,m,f)}for(const d of u)delete l[d]}}else{const l=t;i in l&&Js(l[i],e,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ta(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Og(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function Wg(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Yg(l)),e}function Kg(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],Qg(l)),e}function Yg(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Xg(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Qg(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Zg(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Xg(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],ry(n)),e}function Zg(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],iy(n)),e}function jg(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function ey(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function ty(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],ny(l)),e}function ny(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function yp(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],oy(l)),e}function oy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function ry(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],ta(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function iy(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],ta(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tu;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Tu||(Tu={}));var _u;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_u||(_u={}));var Cu;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Cu||(Cu={}));var H;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(H||(H={}));var xu;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xu||(xu={}));var wu;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(wu||(wu={}));var Iu;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Iu||(Iu={}));var Au;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Au||(Au={}));var Nu;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Nu||(Nu={}));var Ru;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ru||(Ru={}));var ku;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ku||(ku={}));var Pu;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Pu||(Pu={}));var Mu;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Mu||(Mu={}));var Du;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Du||(Du={}));var Lu;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Lu||(Lu={}));var Uu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Uu||(Uu={}));var Fu;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Fu||(Fu={}));var Vu;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Vu||(Vu={}));var Gu;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Gu||(Gu={}));var Hu;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Hu||(Hu={}));var Bu;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bu||(Bu={}));var Jr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Jr||(Jr={}));var qu;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qu||(qu={}));var zu;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zu||(zu={}));var $u;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})($u||($u={}));var Os;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Os||(Os={}));var bu;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(bu||(bu={}));var Ju;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ju||(Ju={}));var Ou;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ou||(Ou={}));var Wu;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Wu||(Wu={}));var Ku;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ku||(Ku={}));var Yu;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Yu||(Yu={}));var Qu;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Qu||(Qu={}));var Xu;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xu||(Xu={}));var Zu;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Zu||(Zu={}));var ju;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ju||(ju={}));var ec;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ec||(ec={}));var tc;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(tc||(tc={}));var nc;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(nc||(nc={}));var oc;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(oc||(oc={}));var rc;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(rc||(rc={}));var ic;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ic||(ic={}));var sc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(sc||(sc={}));var lc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(lc||(lc={}));var ac;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(ac||(ac={}));var uc;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(uc||(uc={}));var cc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(cc||(cc={}));var dc;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(dc||(dc={}));var fc;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(fc||(fc={}));var pc;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(pc||(pc={}));var mc;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mc||(mc={}));var hc;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(hc||(hc={}));var gc;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gc||(gc={}));var yc;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yc||(yc={}));var vc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(vc||(vc={}));var Tn;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Tn||(Tn={}));class Ws{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Zn{get text(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const m=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,E]of Object.entries(p))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const m of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,h]of Object.entries(m))p!=="inlineData"&&(h!==null||h!==void 0)&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Sc{}class Ec{}class sy{}class ly{}class ay{}class uy{}class Tc{}class _c{}class Cc{}class cy{}class Or{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Or;let r;const i=e;return n?r=Kg(i):r=Wg(i),Object.assign(o,r),o}}class xc{}class wc{}class Ic{}class Ac{}class dy{}class fy{}class py{}class na{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new na,i=ty(e);return Object.assign(o,i),o}}class my{}class hy{}class gy{}class Nc{}class yy{get text(){var e,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="";const i=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class vy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class oa{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new oa,i=yp(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function vp(t,e){const n=$(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Sp(t){return Array.isArray(t)?t.map(e=>Wr(e)):[Wr(t)]}function Wr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Ep(t){const e=Wr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Tp(t){const e=Wr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Rc(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _p(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Rc(e)):[Rc(t)]}function Ks(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function kc(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Pc(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ye(t){if(t==null)throw new Error("ContentUnion is required");return Ks(t)?t:{role:"user",parts:_p(t)}}function ra(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=ye(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=ye(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ye(n)):[ye(e)]}function qe(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(kc(t)||Pc(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ye(t)]}const e=[],n=[],o=Ks(t[0]);for(const r of t){const i=Ks(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(kc(r)||Pc(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:_p(n)}),e}function Sy(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(H).includes(n[0].toUpperCase())?n[0].toUpperCase():H.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(H).includes(o.toUpperCase())?o.toUpperCase():H.TYPE_UNSPECIFIED})}}function Rn(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&Sy(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(H).includes(u.toUpperCase())?u.toUpperCase():H.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Rn(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Rn(d))}e[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=Rn(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function ia(t){return Rn(t)}function sa(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function la(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function qn(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Rn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Rn(e.response));return t}function zn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Ey(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function St(t,e){if(typeof e!="string")throw new Error("name must be a string");return Ey(t,e,"cachedContents")}function Cp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function qt(t){return ta(t)}function Ty(t){return t!=null&&typeof t=="object"&&"name"in t}function _y(t){return t!=null&&typeof t=="object"&&"video"in t}function Cy(t){return t!=null&&typeof t=="object"&&"uri"in t}function xp(t){var e;let n;if(Ty(t)&&(n=t.name),!(Cy(t)&&(n=t.uri,n===void 0))&&!(_y(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function wp(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ip(t){for(const e of["models","tunedModels","publisherModels"])if(xy(t,e))return t[e];return[]}function xy(t,e){return t!==null&&typeof t=="object"&&e in t}function wy(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Iy(t,e={}){const n=[],o=new Set;for(const r of t){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=wy(r,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Ap(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Ay(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Np(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function $n(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Rp(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ny(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>av(l))),a(e,["inlinedResponses"],i)}const r=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["inlinedEmbedContentResponses"],i)}return e}function Ry(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigqueryDestination","outputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function ky(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigqueryDestination","outputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Sr(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["metadata","state"]);r!=null&&a(e,["state"],Rp(r));const i=s(t,["metadata","createTime"]);i!=null&&a(e,["createTime"],i);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(t,["metadata","model"]);c!=null&&a(e,["model"],c);const d=s(t,["metadata","output"]);return d!=null&&a(e,["dest"],Ny(Np(d))),e}function Ys(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["state"]);r!=null&&a(e,["state"],Rp(r));const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(e,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const f=s(t,["model"]);f!=null&&a(e,["model"],f);const m=s(t,["inputConfig"]);m!=null&&a(e,["src"],Py(m));const p=s(t,["outputConfig"]);p!=null&&a(e,["dest"],Ry(Np(p)));const h=s(t,["completionStats"]);return h!=null&&a(e,["completionStats"],h),e}function Py(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigquerySource","inputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function My(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>lv(t,l))),a(n,["requests","requests"],i)}return n}function Dy(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigquerySource","inputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ly(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Uy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],$n(t,o)),n}function Fy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],$n(t,o)),n}function Vy(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],Gy(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["safetyRatings"],p)}const m=s(t,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function Gy(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function kp(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>hv(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Hy(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function By(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["dest"]);return e!==void 0&&r!=null&&a(e,["outputConfig"],ky(Ay(r))),n}function Mc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],My(t,Ap(t,r)));const i=s(e,["config"]);return i!=null&&Hy(i,n),n}function qy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],$(t,o));const r=s(e,["src"]);r!=null&&a(n,["inputConfig"],Dy(Ap(t,r)));const i=s(e,["config"]);return i!=null&&By(i,n),n}function zy(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),n}function $y(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],Qy(t,r));const i=s(e,["config"]);return i!=null&&zy(i,n),n}function by(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],$n(t,o)),n}function Jy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],$n(t,o)),n}function Oy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function Wy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function Ky(t,e){const n={},o=s(e,["contents"]);if(o!=null){let i=ra(t,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(a(n,["_self"],Yy(r,n)),Jg(n,{"requests[].*":"requests[].request.*"})),n}function Yy(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Qy(t,e){const n={},o=s(e,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&a(n,["requests"],Ky(t,r)),n}function Xy(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Zy(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jy(t){const e={},n=s(t,["allowedFunctionNames"]);n!=null&&a(e,["allowedFunctionNames"],n);const o=s(t,["mode"]);if(o!=null&&a(e,["mode"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ev(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],kp(ye(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const T=s(e,["seed"]);T!=null&&a(o,["seed"],T);const C=s(e,["responseMimeType"]);C!=null&&a(o,["responseMimeType"],C);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],ia(v));const y=s(e,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(n!==void 0&&S!=null){let b=S;Array.isArray(b)&&(b=b.map(ne=>gv(ne))),a(n,["safetySettings"],b)}const _=s(e,["tools"]);if(n!==void 0&&_!=null){let b=zn(_);Array.isArray(b)&&(b=b.map(ne=>vv(qn(ne)))),a(n,["tools"],b)}const I=s(e,["toolConfig"]);if(n!==void 0&&I!=null&&a(n,["toolConfig"],yv(I)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],St(t,A));const x=s(e,["responseModalities"]);x!=null&&a(o,["responseModalities"],x);const N=s(e,["mediaResolution"]);N!=null&&a(o,["mediaResolution"],N);const P=s(e,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],sa(P)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=s(e,["thinkingConfig"]);L!=null&&a(o,["thinkingConfig"],L);const z=s(e,["imageConfig"]);z!=null&&a(o,["imageConfig"],sv(z));const ue=s(e,["enableEnhancedCivicAnswers"]);return ue!=null&&a(o,["enableEnhancedCivicAnswers"],ue),o}function tv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Vy(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function nv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],$n(t,o)),n}function ov(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],$n(t,o)),n}function rv(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function iv(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function sv(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function lv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["request","model"],$(t,o));const r=s(e,["contents"]);if(r!=null){let u=qe(r);Array.isArray(u)&&(u=u.map(c=>kp(c))),a(n,["request","contents"],u)}const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["config"]);return l!=null&&a(n,["request","generationConfig"],ev(t,l,s(n,["request"],{}))),n}function av(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],tv(n));const o=s(t,["error"]);return o!=null&&a(e,["error"],o),e}function uv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);if(e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function cv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(t,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),n}function dv(t){const e={},n=s(t,["config"]);return n!=null&&uv(n,e),e}function fv(t){const e={},n=s(t,["config"]);return n!=null&&cv(n,e),e}function pv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Sr(l))),a(e,["batchJobs"],i)}return e}function mv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Ys(l))),a(e,["batchJobs"],i)}return e}function hv(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],Xy(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],Zy(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Ly(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function gv(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function yv(t){const e={},n=s(t,["retrievalConfig"]);n!=null&&a(e,["retrievalConfig"],n);const o=s(t,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],jy(o)),e}function vv(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],rv(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],iv(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(gt||(gt={}));class rn{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sv extends vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rn(gt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Mc(this.apiClient,e),o=n._url,r=M("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const m=Object.assign({},f);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const h=m.request;h.systemInstruction=p,m.request=h}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=qy(this.apiClient,e);return u=M("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ys(f))}else{const d=Mc(this.apiClient,e);return u=M("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Sr(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$y(this.apiClient,e);return i=M("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Sr(c))}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ov(this.apiClient,e);return u=M("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Ys(f))}else{const d=nv(this.apiClient,e);return u=M("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Sr(f))}}async cancel(e){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=Fy(this.apiClient,e);l=M("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Uy(this.apiClient,e);l=M("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=fv(e);return u=M("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=mv(f),p=new Nc;return Object.assign(p,m),p})}else{const d=dv(e);return u=M("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=pv(f),p=new Nc;return Object.assign(p,m),p})}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Jy(this.apiClient,e);return u=M("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Wy(f))}else{const d=by(this.apiClient,e);return u=M("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Oy(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ev(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Dc(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$v(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Tv(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=qe(l);Array.isArray(f)&&(f=f.map(m=>Dc(m))),a(e,["contents"],f)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Dc(ye(u)));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(m=>Jv(m))),a(e,["tools"],f)}const d=s(t,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],bv(d)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function _v(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let m=qe(l);Array.isArray(m)&&(m=m.map(p=>p)),a(e,["contents"],m)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],ye(u));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>Ov(p))),a(e,["tools"],m)}const d=s(t,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function Cv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],vp(t,o));const r=s(e,["config"]);return r!=null&&Tv(r,n),n}function xv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],vp(t,o));const r=s(e,["config"]);return r!=null&&_v(r,n),n}function wv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Iv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Av(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Nv(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Rv(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function kv(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Pv(t){const e={},n=s(t,["allowedFunctionNames"]);n!=null&&a(e,["allowedFunctionNames"],n);const o=s(t,["mode"]);if(o!=null&&a(e,["mode"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Mv(t){const e={},n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Dv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Lv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Uv(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Fv(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Vv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function Gv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function Hv(t){const e={},n=s(t,["config"]);return n!=null&&Vv(n,e),e}function Bv(t){const e={},n=s(t,["config"]);return n!=null&&Gv(n,e),e}function qv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function zv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function $v(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],Rv(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],kv(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Ev(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function bv(t){const e={},n=s(t,["retrievalConfig"]);n!=null&&a(e,["retrievalConfig"],n);const o=s(t,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],Pv(o)),e}function Jv(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],Uv(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],Fv(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function Ov(t){const e={},n=s(t,["retrieval"]);n!=null&&a(e,["retrieval"],n);const o=s(t,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(t,["codeExecution"]);r!=null&&a(e,["codeExecution"],r);const i=s(t,["enterpriseWebSearch"]);i!=null&&a(e,["enterpriseWebSearch"],i);const l=s(t,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>Mv(p))),a(e,["functionDeclarations"],m)}const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(t,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Wv(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function Kv(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function Yv(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],St(t,o));const r=s(e,["config"]);return r!=null&&Wv(r,n),n}function Qv(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],St(t,o));const r=s(e,["config"]);return r!=null&&Kv(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xv extends vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rn(gt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xv(this.apiClient,e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Cv(this.apiClient,e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Lv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Dv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Iv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Nv(f),p=new Ic;return Object.assign(p,m),p})}else{const d=wv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Av(f),p=new Ic;return Object.assign(p,m),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Qv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Yv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Bv(e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=zv(f),p=new Ac;return Object.assign(p,m),p})}else{const d=Hv(e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=qv(f),p=new Ac;return Object.assign(p,m),p})}}}function Kr(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function Lc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(t){return this instanceof F?(this.v=t,this):new F(t)}function Xe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(h){return function(E){return Promise.resolve(E).then(h,m)}}function u(h,E){o[h]&&(r[h]=function(T){return new Promise(function(C,v){i.push([h,T,C,v])>1||c(h,T)})},E&&(r[h]=E(r[h])))}function c(h,E){try{d(o[h](E))}catch(T){p(i[0][3],T)}}function d(h){h.value instanceof F?Promise.resolve(h.value.v).then(f,m):p(i[0][2],h)}function f(h){c("next",h)}function m(h){c("throw",h)}function p(h,E){h(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ze(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Lc=="function"?Lc(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(l){return new Promise(function(u,c){l=t[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Pp(n)}function Pp(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function jv(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Uc(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!Pp(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class e0{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new t0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class t0{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),jv(i)}async sendMessage(e){var n;await this.sendPromise;const o=ye(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(m))!==null&&u!==void 0?u:[]);const h=d?[d]:[];this.recordHistory(o,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=ye(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const n=e?Uc(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Xe(this,arguments,function*(){var r,i,l,u,c,d;const f=[];try{for(var m=!0,p=Ze(e),h;h=yield F(p.next()),r=h.done,!r;m=!0){u=h.value,m=!1;const E=u;if(Zv(E)){const T=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;T!==void 0&&f.push(T)}yield yield F(E)}}catch(E){i={error:E}}finally{try{!m&&!r&&(l=p.return)&&(yield F(l.call(p)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Uc(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,pi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n0(t){const e={},n=s(t,["file"]);return n!=null&&a(e,["file"],n),e}function o0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function r0(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],xp(n)),e}function i0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function s0(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],xp(n)),e}function l0(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function a0(t){const e={},n=s(t,["config"]);return n!=null&&l0(n,e),e}function u0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c0 extends vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rn(gt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=a0(e);return i=M("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=u0(c),f=new my;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n0(e);return i=M("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=o0(c),f=new hy;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s0(e);return i=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=r0(e);return i=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=i0(c),f=new gy;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Er(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function d0(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>A0(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function f0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function p0(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m0(t){const e={},n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function h0(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(t,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const h=s(t,["responseMimeType"]);h!=null&&a(e,["responseMimeType"],h);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const T=s(t,["responseSchema"]);T!=null&&a(e,["responseSchema"],T);const C=s(t,["routingConfig"]);C!=null&&a(e,["routingConfig"],C);const v=s(t,["seed"]);v!=null&&a(e,["seed"],v);const y=s(t,["speechConfig"]);y!=null&&a(e,["speechConfig"],y);const S=s(t,["stopSequences"]);S!=null&&a(e,["stopSequences"],S);const _=s(t,["temperature"]);_!=null&&a(e,["temperature"],_);const I=s(t,["thinkingConfig"]);I!=null&&a(e,["thinkingConfig"],I);const A=s(t,["topK"]);A!=null&&a(e,["topK"],A);const x=s(t,["topP"]);if(x!=null&&a(e,["topP"],x),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function g0(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function y0(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function v0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],la(m));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],d0(ye(E)));const T=s(t,["tools"]);if(e!==void 0&&T!=null){let A=zn(T);Array.isArray(A)&&(A=A.map(x=>R0(qn(x)))),a(e,["setup","tools"],A)}const C=s(t,["sessionResumption"]);e!==void 0&&C!=null&&a(e,["setup","sessionResumption"],N0(C));const v=s(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const y=s(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","outputAudioTranscription"],y);const S=s(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const _=s(t,["contextWindowCompression"]);e!==void 0&&_!=null&&a(e,["setup","contextWindowCompression"],_);const I=s(t,["proactivity"]);if(e!==void 0&&I!=null&&a(e,["setup","proactivity"],I),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function S0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],h0(o));const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],la(m));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],ye(E));const T=s(t,["tools"]);if(e!==void 0&&T!=null){let x=zn(T);Array.isArray(x)&&(x=x.map(N=>k0(qn(N)))),a(e,["setup","tools"],x)}const C=s(t,["sessionResumption"]);e!==void 0&&C!=null&&a(e,["setup","sessionResumption"],C);const v=s(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const y=s(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","outputAudioTranscription"],y);const S=s(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const _=s(t,["contextWindowCompression"]);e!==void 0&&_!=null&&a(e,["setup","contextWindowCompression"],_);const I=s(t,["proactivity"]);e!==void 0&&I!=null&&a(e,["setup","proactivity"],I);const A=s(t,["explicitVadSignal"]);return e!==void 0&&A!=null&&a(e,["setup","explicitVadSignal"],A),n}function E0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],$(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],v0(r,n)),n}function T0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],$(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],S0(r,n)),n}function _0(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function C0(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["weightedPrompts"],o)}return e}function x0(t){const e={},n=s(t,["media"]);if(n!=null){let d=Sp(n);Array.isArray(d)&&(d=d.map(f=>Er(f))),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Er(Tp(o)));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Er(Ep(i)));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function w0(t){const e={},n=s(t,["media"]);if(n!=null){let d=Sp(n);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Tp(o));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Ep(i));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function I0(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&a(e,["serverContent"],o);const r=s(t,["toolCall"]);r!=null&&a(e,["toolCall"],r);const i=s(t,["toolCallCancellation"]);i!=null&&a(e,["toolCallCancellation"],i);const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],P0(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],u);const c=s(t,["sessionResumptionUpdate"]);c!=null&&a(e,["sessionResumptionUpdate"],c);const d=s(t,["voiceActivityDetectionSignal"]);d!=null&&a(e,["voiceActivityDetectionSignal"],d);const f=s(t,["voiceActivity"]);return f!=null&&a(e,["voiceActivity"],M0(f)),e}function A0(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],f0(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],p0(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Er(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function N0(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function R0(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],g0(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],y0(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function k0(t){const e={},n=s(t,["retrieval"]);n!=null&&a(e,["retrieval"],n);const o=s(t,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(t,["codeExecution"]);r!=null&&a(e,["codeExecution"],r);const i=s(t,["enterpriseWebSearch"]);i!=null&&a(e,["enterpriseWebSearch"],i);const l=s(t,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>m0(p))),a(e,["functionDeclarations"],m)}const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(t,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function P0(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const r=s(t,["candidatesTokenCount"]);r!=null&&a(e,["responseTokenCount"],r);const i=s(t,["toolUsePromptTokenCount"]);i!=null&&a(e,["toolUsePromptTokenCount"],i);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["promptTokensDetails"],h)}const d=s(t,["cacheTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["cacheTokensDetails"],h)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["responseTokensDetails"],h)}const m=s(t,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(E=>E)),a(e,["toolUsePromptTokensDetails"],h)}const p=s(t,["trafficType"]);return p!=null&&a(e,["trafficType"],p),e}function M0(t){const e={},n=s(t,["type"]);return n!=null&&a(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D0(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function L0(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],U0(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["safetyRatings"],p)}const m=s(t,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function U0(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function F0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["contents"]);if(r!=null){let i=qe(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function V0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["tokensInfo"],r)}return e}function G0(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&a(e,["statistics"],H0(o)),e}function H0(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function mi(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>KS(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function B0(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function q0(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function z0(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],ye(o));const r=s(t,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Up(u))),a(e,["tools"],l)}const i=s(t,["generationConfig"]);return e!==void 0&&i!=null&&a(e,["generationConfig"],DS(i)),n}function $0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["contents"]);if(r!=null){let l=qe(r);Array.isArray(l)&&(l=l.map(u=>mi(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&q0(i),n}function b0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["contents"]);if(r!=null){let l=qe(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&z0(i,n),n}function J0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const r=s(t,["cachedContentTokenCount"]);return r!=null&&a(e,["cachedContentTokenCount"],r),e}function O0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function W0(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],$(t,o)),n}function K0(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],$(t,o)),n}function Y0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Q0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function X0(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const h=s(t,["language"]);e!==void 0&&h!=null&&a(e,["parameters","language"],h);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const T=s(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const C=s(t,["addWatermark"]);e!==void 0&&C!=null&&a(e,["parameters","addWatermark"],C);const v=s(t,["labels"]);e!==void 0&&v!=null&&a(e,["labels"],v);const y=s(t,["editMode"]);e!==void 0&&y!=null&&a(e,["parameters","editMode"],y);const S=s(t,["baseSteps"]);return e!==void 0&&S!=null&&a(e,["parameters","editConfig","baseSteps"],S),n}function Z0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>eE(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&X0(l,n),n}function j0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>hi(i))),a(e,["generatedImages"],r)}return e}function eS(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function tS(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["instances[]","title"],r);const i=s(t,["outputDimensionality"]);e!==void 0&&i!=null&&a(e,["parameters","outputDimensionality"],i);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function nS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["contents"]);if(r!=null){let u=ra(t,r);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const i=s(e,["config"]);i!=null&&eS(i,n);const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],$(t,l)),n}function oS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["contents"]);if(r!=null){let l=ra(t,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&tS(i,n),n}function rS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function iS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>G0(l))),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function sS(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function lS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function aS(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uS(t){const e={},n=s(t,["allowedFunctionNames"]);n!=null&&a(e,["allowedFunctionNames"],n);const o=s(t,["mode"]);if(o!=null&&a(e,["mode"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cS(t){const e={},n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function dS(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],mi(ye(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const T=s(e,["seed"]);T!=null&&a(o,["seed"],T);const C=s(e,["responseMimeType"]);C!=null&&a(o,["responseMimeType"],C);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],ia(v));const y=s(e,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(n!==void 0&&S!=null){let b=S;Array.isArray(b)&&(b=b.map(ne=>tE(ne))),a(n,["safetySettings"],b)}const _=s(e,["tools"]);if(n!==void 0&&_!=null){let b=zn(_);Array.isArray(b)&&(b=b.map(ne=>aE(qn(ne)))),a(n,["tools"],b)}const I=s(e,["toolConfig"]);if(n!==void 0&&I!=null&&a(n,["toolConfig"],lE(I)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],St(t,A));const x=s(e,["responseModalities"]);x!=null&&a(o,["responseModalities"],x);const N=s(e,["mediaResolution"]);N!=null&&a(o,["mediaResolution"],N);const P=s(e,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],sa(P)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=s(e,["thinkingConfig"]);L!=null&&a(o,["thinkingConfig"],L);const z=s(e,["imageConfig"]);z!=null&&a(o,["imageConfig"],GS(z));const ue=s(e,["enableEnhancedCivicAnswers"]);return ue!=null&&a(o,["enableEnhancedCivicAnswers"],ue),o}function fS(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],ye(r));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const h=s(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const T=s(e,["seed"]);T!=null&&a(o,["seed"],T);const C=s(e,["responseMimeType"]);C!=null&&a(o,["responseMimeType"],C);const v=s(e,["responseSchema"]);v!=null&&a(o,["responseSchema"],ia(v));const y=s(e,["responseJsonSchema"]);y!=null&&a(o,["responseJsonSchema"],y);const S=s(e,["routingConfig"]);S!=null&&a(o,["routingConfig"],S);const _=s(e,["modelSelectionConfig"]);_!=null&&a(o,["modelConfig"],_);const I=s(e,["safetySettings"]);if(n!==void 0&&I!=null){let Se=I;Array.isArray(Se)&&(Se=Se.map(ce=>ce)),a(n,["safetySettings"],Se)}const A=s(e,["tools"]);if(n!==void 0&&A!=null){let Se=zn(A);Array.isArray(Se)&&(Se=Se.map(ce=>Up(qn(ce)))),a(n,["tools"],Se)}const x=s(e,["toolConfig"]);n!==void 0&&x!=null&&a(n,["toolConfig"],x);const N=s(e,["labels"]);n!==void 0&&N!=null&&a(n,["labels"],N);const P=s(e,["cachedContent"]);n!==void 0&&P!=null&&a(n,["cachedContent"],St(t,P));const L=s(e,["responseModalities"]);L!=null&&a(o,["responseModalities"],L);const z=s(e,["mediaResolution"]);z!=null&&a(o,["mediaResolution"],z);const ue=s(e,["speechConfig"]);ue!=null&&a(o,["speechConfig"],sa(ue));const b=s(e,["audioTimestamp"]);b!=null&&a(o,["audioTimestamp"],b);const ne=s(e,["thinkingConfig"]);ne!=null&&a(o,["thinkingConfig"],ne);const sn=s(e,["imageConfig"]);if(sn!=null&&a(o,["imageConfig"],HS(sn)),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function Fc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["contents"]);if(r!=null){let l=qe(r);Array.isArray(l)&&(l=l.map(u=>mi(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],dS(t,i,n)),n}function Vc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["contents"]);if(r!=null){let l=qe(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],fS(t,i,n)),n}function Gc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>L0(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Hc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function pS(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const i=s(t,["guidanceScale"]);if(e!==void 0&&i!=null&&a(e,["parameters","guidanceScale"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const d=s(t,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);const f=s(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const m=s(t,["outputMimeType"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","mimeType"],m);const p=s(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=s(t,["imageSize"]);if(e!==void 0&&h!=null&&a(e,["parameters","sampleImageSize"],h),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function mS(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const h=s(t,["language"]);e!==void 0&&h!=null&&a(e,["parameters","language"],h);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const T=s(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const C=s(t,["addWatermark"]);e!==void 0&&C!=null&&a(e,["parameters","addWatermark"],C);const v=s(t,["labels"]);e!==void 0&&v!=null&&a(e,["labels"],v);const y=s(t,["imageSize"]);e!==void 0&&y!=null&&a(e,["parameters","sampleImageSize"],y);const S=s(t,["enhancePrompt"]);return e!==void 0&&S!=null&&a(e,["parameters","enhancePrompt"],S),n}function hS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&pS(i,n),n}function gS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&mS(i,n),n}function yS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>RS(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Dp(r)),e}function vS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>hi(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Lp(r)),e}function SS(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(t,["durationSeconds"]);if(e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(t,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const d=s(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],gi(f));const m=s(t,["referenceImages"]);if(e!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>TE(h))),a(e,["instances[0]","referenceImages"],p)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function ES(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const i=s(t,["fps"]);e!==void 0&&i!=null&&a(e,["parameters","fps"],i);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(t,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["pubsubTopic"]);e!==void 0&&m!=null&&a(e,["parameters","pubsubTopic"],m);const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","negativePrompt"],p);const h=s(t,["enhancePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h);const E=s(t,["generateAudio"]);e!==void 0&&E!=null&&a(e,["parameters","generateAudio"],E);const T=s(t,["lastFrame"]);e!==void 0&&T!=null&&a(e,["instances[0]","lastFrame"],et(T));const C=s(t,["referenceImages"]);if(e!==void 0&&C!=null){let S=C;Array.isArray(S)&&(S=S.map(_=>_E(_))),a(e,["instances[0]","referenceImages"],S)}const v=s(t,["mask"]);e!==void 0&&v!=null&&a(e,["instances[0]","mask"],EE(v));const y=s(t,["compressionQuality"]);return e!==void 0&&y!=null&&a(e,["parameters","compressionQuality"],y),n}function TS(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],wS(l)),e}function _S(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],IS(l)),e}function CS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],gi(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Fp(l));const u=s(e,["source"]);u!=null&&AS(u,n);const c=s(e,["config"]);return c!=null&&SS(c,n),n}function xS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],et(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Vp(l));const u=s(e,["source"]);u!=null&&NS(u,n);const c=s(e,["config"]);return c!=null&&ES(c,n),n}function wS(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>PS(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function IS(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>MS(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function AS(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],gi(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Fp(i)),n}function NS(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],et(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Vp(i)),n}function RS(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],BS(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);return r!=null&&a(e,["safetyAttributes"],Dp(r)),e}function hi(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],Mp(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);r!=null&&a(e,["safetyAttributes"],Lp(r));const i=s(t,["prompt"]);return i!=null&&a(e,["enhancedPrompt"],i),e}function kS(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],Mp(n));const o=s(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["labels"],r)}return e}function PS(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],vE(n)),e}function MS(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],SE(n)),e}function DS(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(t,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const h=s(t,["responseMimeType"]);h!=null&&a(e,["responseMimeType"],h);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const T=s(t,["responseSchema"]);T!=null&&a(e,["responseSchema"],T);const C=s(t,["routingConfig"]);C!=null&&a(e,["routingConfig"],C);const v=s(t,["seed"]);v!=null&&a(e,["seed"],v);const y=s(t,["speechConfig"]);y!=null&&a(e,["speechConfig"],y);const S=s(t,["stopSequences"]);S!=null&&a(e,["stopSequences"],S);const _=s(t,["temperature"]);_!=null&&a(e,["temperature"],_);const I=s(t,["thinkingConfig"]);I!=null&&a(e,["thinkingConfig"],I);const A=s(t,["topK"]);A!=null&&a(e,["topK"],A);const x=s(t,["topP"]);if(x!=null&&a(e,["topP"],x),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function LS(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],$(t,o)),n}function US(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],$(t,o)),n}function FS(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function VS(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function GS(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function HS(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);o!=null&&a(e,["imageSize"],o);const r=s(t,["personGeneration"]);r!=null&&a(e,["personGeneration"],r);const i=s(t,["outputMimeType"]);i!=null&&a(e,["imageOutputOptions","mimeType"],i);const l=s(t,["outputCompressionQuality"]);return l!=null&&a(e,["imageOutputOptions","compressionQuality"],l),e}function BS(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],qt(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Mp(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],qt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function gi(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],qt(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function et(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],qt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function qS(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],wp(t,u)),o}function zS(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],wp(t,u)),o}function $S(t,e){const n={},o=s(e,["config"]);return o!=null&&qS(t,o,n),n}function bS(t,e){const n={},o=s(e,["config"]);return o!=null&&zS(t,o,n),n}function JS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=Ip(r);Array.isArray(i)&&(i=i.map(l=>Qs(l))),a(e,["models"],i)}return e}function OS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=Ip(r);Array.isArray(i)&&(i=i.map(l=>Xs(l))),a(e,["models"],i)}return e}function WS(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const r=s(t,["maskDilation"]);return r!=null&&a(e,["dilation"],r),e}function Qs(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["version"]);i!=null&&a(e,["version"],i);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],uE(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(t,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const d=s(t,["supportedGenerationMethods"]);d!=null&&a(e,["supportedActions"],d);const f=s(t,["temperature"]);f!=null&&a(e,["temperature"],f);const m=s(t,["maxTemperature"]);m!=null&&a(e,["maxTemperature"],m);const p=s(t,["topP"]);p!=null&&a(e,["topP"],p);const h=s(t,["topK"]);h!=null&&a(e,["topK"],h);const E=s(t,["thinking"]);return E!=null&&a(e,["thinking"],E),e}function Xs(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["versionId"]);i!=null&&a(e,["version"],i);const l=s(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>sS(p))),a(e,["endpoints"],m)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const c=s(t,["_self"]);c!=null&&a(e,["tunedModelInfo"],cE(c));const d=s(t,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);const f=s(t,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>p)),a(e,["checkpoints"],m)}return e}function KS(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],lS(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],aS(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],D0(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function YS(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],et(n)),e}function QS(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["baseSteps"]);e!==void 0&&r!=null&&a(e,["parameters","baseSteps"],r);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const d=s(t,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const m=s(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","compressionQuality"],m);const p=s(t,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const h=s(t,["labels"]);return e!==void 0&&h!=null&&a(e,["labels"],h),n}function XS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["source"]);r!=null&&jS(r,n);const i=s(e,["config"]);return i!=null&&QS(i,n),n}function ZS(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>hi(r))),a(e,["generatedImages"],o)}return e}function jS(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["personImage"]);e!==void 0&&r!=null&&a(e,["instances[0]","personImage","image"],et(r));const i=s(t,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>YS(u))),a(e,["instances[0]","productImages"],l)}return n}function eE(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],et(n));const o=s(t,["referenceId"]);o!=null&&a(e,["referenceId"],o);const r=s(t,["referenceType"]);r!=null&&a(e,["referenceType"],r);const i=s(t,["maskImageConfig"]);i!=null&&a(e,["maskImageConfig"],WS(i));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],B0(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const c=s(t,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function Dp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function Lp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function tE(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function nE(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],et(n)),e}function oE(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const r=s(t,["maxPredictions"]);e!==void 0&&r!=null&&a(e,["parameters","maxPredictions"],r);const i=s(t,["confidenceThreshold"]);e!==void 0&&i!=null&&a(e,["parameters","confidenceThreshold"],i);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const c=s(t,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),n}function rE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["source"]);r!=null&&sE(r,n);const i=s(e,["config"]);return i!=null&&oE(i,n),n}function iE(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>kS(r))),a(e,["generatedMasks"],o)}return e}function sE(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],et(r));const i=s(t,["scribbleImage"]);return e!==void 0&&i!=null&&a(e,["instances[0]","scribble"],nE(i)),n}function lE(t){const e={},n=s(t,["retrievalConfig"]);n!=null&&a(e,["retrievalConfig"],n);const o=s(t,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],uS(o)),e}function aE(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],FS(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],VS(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function Up(t){const e={},n=s(t,["retrieval"]);n!=null&&a(e,["retrieval"],n);const o=s(t,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(t,["codeExecution"]);r!=null&&a(e,["codeExecution"],r);const i=s(t,["enterpriseWebSearch"]);i!=null&&a(e,["enterpriseWebSearch"],i);const l=s(t,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(p=>cS(p))),a(e,["functionDeclarations"],m)}const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(t,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function uE(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function cE(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function dE(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function fE(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function pE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],$(t,o));const r=s(e,["config"]);return r!=null&&dE(r,n),n}function mE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["config"]);return r!=null&&fE(r,n),n}function hE(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&a(e,["parameters","safetySetting"],r);const i=s(t,["personGeneration"]);e!==void 0&&i!=null&&a(e,["parameters","personGeneration"],i);const l=s(t,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(t,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const c=s(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);const d=s(t,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=s(t,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const p=s(t,["numberOfImages"]);e!==void 0&&p!=null&&a(e,["parameters","sampleCount"],p);const h=s(t,["mode"]);return e!==void 0&&h!=null&&a(e,["parameters","mode"],h),n}function gE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],$(t,o));const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],et(r));const i=s(e,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&hE(l,n),n}function yE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>hi(i))),a(e,["generatedImages"],r)}return e}function vE(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],qt(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function SE(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],qt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function EE(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],et(n));const o=s(t,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function TE(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],gi(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function _E(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],et(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function Fp(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["encodedVideo"],qt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["encoding"],r),e}function Vp(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],qt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CE(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),n}function xE(t){const e={},n=s(t,["config"]);return n!=null&&CE(n,e),e}function wE(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function IE(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&wE(o,e),e}function AE(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function NE(t,e){const n={},o=s(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["customMetadata"],i)}const r=s(t,["chunkingConfig"]);return e!==void 0&&r!=null&&a(e,["chunkingConfig"],r),n}function RE(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],PE(l)),e}function kE(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["fileName"]);o!=null&&a(e,["fileName"],o);const r=s(t,["config"]);return r!=null&&NE(r,e),e}function PE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function ME(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function DE(t){const e={},n=s(t,["config"]);return n!=null&&ME(n,e),e}function LE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["fileSearchStores"],i)}return e}function Gp(t,e){const n={},o=s(t,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const i=s(t,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["customMetadata"],u)}const l=s(t,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),n}function UE(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["config"]);return o!=null&&Gp(o,e),e}function FE(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VE="Content-Type",GE="X-Server-Timeout",HE="User-Agent",Zs="x-goog-api-client",BE="1.37.0",qE=`google-genai-sdk/${BE}`,zE="v1beta1",$E="v1beta";class bE{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:zE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:$E,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))r.searchParams.append(l,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return n&&n.extraBody!==null&&JE(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Bc(r),new Ws(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Bc(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Xe(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield F(r.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=i.decode(f,{stream:!0});try{const E=JSON.parse(m);if("error"in E){const T=JSON.parse(JSON.stringify(E.error)),C=T.status,v=T.code,y=`got status: ${C}. ${JSON.stringify(E)}`;if(v>=400&&v<600)throw new pi({message:y,status:v})}}catch(E){if(E.name==="ApiError")throw E}l+=m;let p=-1,h=0;for(;;){p=-1,h=0;for(const C of c){const v=l.indexOf(C);v!==-1&&(p===-1||v<p)&&(p=v,h=C.length)}if(p===-1)break;const E=l.substring(0,p);l=l.substring(p+h);const T=E.trim();if(T.startsWith(u)){const C=T.substring(u.length).trim();try{const v=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield F(new Ws(v))}catch(v){throw new Error(`exception parsing stream chunk ${C}. ${v}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=qE+" "+this.clientOptions.userAgentExtra;return e[HE]=n,e[Zs]=n,e[VE]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(GE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(e),f=M("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),m={};o!=null&&Gp(o,m);const p=await this.fetchUploadUrl(d,u,c,f,m,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Bc(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new pi({message:r,status:n}):new Error(r)}}function JE(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OE="mcp_used/unknown";let WE=!1;function Hp(t){for(const e of t)if(KE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return WE}function Bp(t){var e;const n=(e=t[Zs])!==null&&e!==void 0?e:"";t[Zs]=(n+` ${OE}`).trimStart()}function KE(t){return t!==null&&typeof t=="object"&&t instanceof aa}function YE(t){return Xe(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const l=yield F(n.listTools({cursor:r}));for(const u of l.tools)yield yield F(u),i++;if(!l.nextCursor)break;r=l.nextCursor}})}class aa{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new aa(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,Ze(YE(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const m=r;l.push(m);const p=m.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(m){n={error:m}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Iy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function QE(t,e,n){const o=new vy;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class XE{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=eT(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(S=>{d=S}),m=e.callbacks,p=function(){d({})},h=this.apiClient,E={onopen:p,onmessage:S=>{QE(h,m.onmessage,S)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(S){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(S){}},T=this.webSocketFactory.create(c,jE(l),E);T.connect(),await f;const y={setup:{model:$(this.apiClient,e.model)}};return T.send(JSON.stringify(y)),new ZE(T,this.apiClient)}}class ZE{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=C0(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=_0(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Tn.PLAY)}pause(){this.sendPlaybackControl(Tn.PAUSE)}stop(){this.sendPlaybackControl(Tn.STOP)}resetContext(){this.sendPlaybackControl(Tn.RESET_CONTEXT)}close(){this.conn.close()}}function jE(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function eT(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nT(t,e,n){const o=new yy;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(t.isVertexAI()){const l=I0(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class oT{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new XE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Hp(e.config.tools)&&Bp(m);const p=lT(m);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const P=this.apiClient.getApiKey();let L="BidiGenerateContent",z="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",z="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${L}?${z}=${P}`}let h=()=>{};const E=new Promise(P=>{h=P}),T=e.callbacks,C=function(){var P;(P=T==null?void 0:T.onopen)===null||P===void 0||P.call(T),h({})},v=this.apiClient,y={onopen:C,onmessage:P=>{nT(v,T.onmessage,P)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(P){}},S=this.webSocketFactory.create(f,sT(p),y);S.connect(),await E;let _=$(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const P=this.apiClient.getProject(),L=this.apiClient.getLocation();_=`projects/${P}/locations/${L}/`+_}let I={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Jr.AUDIO]}:e.config.responseModalities=[Jr.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],x=[];for(const P of A)if(this.isCallableTool(P)){const L=P;x.push(await L.tool())}else x.push(P);x.length>0&&(e.config.tools=x);const N={model:_,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=T0(this.apiClient,N):I=E0(this.apiClient,N),delete I.config,S.send(JSON.stringify(I)),new iT(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const rT={turnComplete:!0};class iT{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=qe(n.turns),e.isVertexAI()||(o=o.map(r=>mi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(tT)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},rT),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:w0(e)}:n={realtimeInput:x0(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function sT(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function lT(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qc=10;function zc(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(kn(l)){r=!0;break}if(!r)return!0;const i=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function kn(t){return"callTool"in t&&typeof t.callTool=="function"}function aT(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>kn(r)))!==null&&o!==void 0?o:!1}function $c(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(kn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function bc(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uT extends vt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!aT(n)||zc(n.config))return await this.generateContentInternal(c);const d=$c(n);if(d.length>0){const T=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let f,m;const p=qe(c.contents),h=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:qc;let E=0;for(;E<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,C=[];for(const v of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(kn(v)){const S=await v.callTool(f.functionCalls);C.push(...S)}E++,m={role:"user",parts:C},c.contents=qe(c.contents),c.contents.push(T),c.contents.push(m),bc(c.config)&&(p.push(T),p.push(m))}return bc(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),zc(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=$c(n);if(c.length>0){const m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new rn(gt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const l=await Promise.all(i.map(async c=>kn(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&Hp(e.config.tools)){const c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Bp(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,r;const i=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(kn(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,o,r;const i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:qc;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,m){return Xe(this,arguments,function*(){for(var p,h,E,T,C,v;u<i;){l&&(u++,l=!1);const I=yield F(d.processParamsMaybeAddMcpUsage(m)),A=yield F(d.generateContentStreamInternal(I)),x=[],N=[];try{for(var y=!0,S=(h=void 0,Ze(A)),_;_=yield F(S.next()),p=_.done,!p;y=!0){T=_.value,y=!1;const P=T;if(yield yield F(P),P.candidates&&(!((C=P.candidates[0])===null||C===void 0)&&C.content)){N.push(P.candidates[0].content);for(const L of(v=P.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<i&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(L.functionCall.name)){const z=yield F(f.get(L.functionCall.name).callTool([L.functionCall]));x.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(P){h={error:P}}finally{try{!y&&!p&&(E=S.return)&&(yield F(E.call(S)))}finally{if(h)throw h.error}}if(x.length>0){l=!0;const P=new Zn;P.candidates=[{content:{role:"user",parts:x}}],yield yield F(P);const L=[];L.push(...N),L.push({role:"user",parts:x});const z=qe(m.contents).concat(L);m.contents=z}else break}})}(this,c,e)}async generateContentInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Vc(this.apiClient,e);return u=M("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Hc(f),p=new Zn;return Object.assign(p,m),p})}else{const d=Fc(this.apiClient,e);return u=M("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Gc(f),p=new Zn;return Object.assign(p,m),p})}}async generateContentStreamInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Vc(this.apiClient,e);return u=M("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Xe(this,arguments,function*(){var p,h,E,T;try{for(var C=!0,v=Ze(m),y;y=yield F(v.next()),p=y.done,!p;C=!0){T=y.value,C=!1;const S=T,_=Hc(yield F(S.json()));_.sdkHttpResponse={headers:S.headers};const I=new Zn;Object.assign(I,_),yield yield F(I)}}catch(S){h={error:S}}finally{try{!C&&!p&&(E=v.return)&&(yield F(E.call(v)))}finally{if(h)throw h.error}}})})}else{const d=Fc(this.apiClient,e);return u=M("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return Xe(this,arguments,function*(){var p,h,E,T;try{for(var C=!0,v=Ze(m),y;y=yield F(v.next()),p=y.done,!p;C=!0){T=y.value,C=!1;const S=T,_=Gc(yield F(S.json()));_.sdkHttpResponse={headers:S.headers};const I=new Zn;Object.assign(I,_),yield yield F(I)}}catch(S){h={error:S}}finally{try{!C&&!p&&(E=v.return)&&(yield F(E.call(v)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=oS(this.apiClient,e);return u=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=iS(f),p=new Sc;return Object.assign(p,m),p})}else{const d=nS(this.apiClient,e);return u=M("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=rS(f),p=new Sc;return Object.assign(p,m),p})}}async generateImagesInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=gS(this.apiClient,e);return u=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=vS(f),p=new Ec;return Object.assign(p,m),p})}else{const d=hS(this.apiClient,e);return u=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=yS(f),p=new Ec;return Object.assign(p,m),p})}}async editImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Z0(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=j0(c),f=new sy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=gE(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=yE(c),f=new ly;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=XS(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=ZS(c),f=new ay;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=rE(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=iE(c),f=new uy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=US(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Xs(f))}else{const d=LS(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Qs(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=bS(this.apiClient,e);return u=M("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=OS(f),p=new Tc;return Object.assign(p,m),p})}else{const d=$S(this.apiClient,e);return u=M("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=JS(f),p=new Tc;return Object.assign(p,m),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=mE(this.apiClient,e);return u=M("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Xs(f))}else{const d=pE(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Qs(f))}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=K0(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Q0(f),p=new _c;return Object.assign(p,m),p})}else{const d=W0(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=Y0(f),p=new _c;return Object.assign(p,m),p})}}async countTokens(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=b0(this.apiClient,e);return u=M("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=O0(f),p=new Cc;return Object.assign(p,m),p})}else{const d=$0(this.apiClient,e);return u=M("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=J0(f),p=new Cc;return Object.assign(p,m),p})}}async computeTokens(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=F0(this.apiClient,e);return i=M("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=V0(c),f=new cy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xS(this.apiClient,e);return u=M("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const m=_S(f),p=new Or;return Object.assign(p,m),p})}else{const d=CS(this.apiClient,e);return u=M("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const m=TS(f),p=new Or;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cT extends vt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ey(e);return u=M("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=jg(e);return u=M("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Og(e);return i=M("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dT(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function fT(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>TT(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function pT(t,e,n){const o={},r=s(e,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],ET(t,u));const c=s(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function mT(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],pT(t,o,n)),n}function hT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function gT(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yT(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function vT(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function ST(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],la(m));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const h=s(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],h);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],fT(ye(E)));const T=s(t,["tools"]);if(e!==void 0&&T!=null){let A=zn(T);Array.isArray(A)&&(A=A.map(x=>CT(qn(x)))),a(e,["setup","tools"],A)}const C=s(t,["sessionResumption"]);e!==void 0&&C!=null&&a(e,["setup","sessionResumption"],_T(C));const v=s(t,["inputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","inputAudioTranscription"],v);const y=s(t,["outputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","outputAudioTranscription"],y);const S=s(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const _=s(t,["contextWindowCompression"]);e!==void 0&&_!=null&&a(e,["setup","contextWindowCompression"],_);const I=s(t,["proactivity"]);if(e!==void 0&&I!=null&&a(e,["setup","proactivity"],I),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function ET(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],$(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],ST(r,n)),n}function TT(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],hT(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],gT(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],dT(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function _T(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function CT(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],yT(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],vT(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xT(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function wT(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const i=xT(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class IT extends vt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=mT(this.apiClient,e);i=M("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=wT(u,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AT(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function NT(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&AT(o,e),e}function RT(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function kT(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function PT(t){const e={},n=s(t,["parent"]);n!=null&&a(e,["_url","parent"],n);const o=s(t,["config"]);return o!=null&&kT(o,e),e}function MT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DT extends vt{constructor(e){super(),this.apiClient=e,this.list=async n=>new rn(gt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RT(e);return i=M("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=NT(e);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PT(e);return i=M("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=MT(c),f=new dy;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LT extends vt{constructor(e,n=new DT(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new rn(gt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xE(e);return i=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AE(e);return i=M("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=IE(e);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DE(e);return i=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=LE(c),f=new fy;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=UE(e);return i=M("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=FE(c),f=new py;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kE(e);return i=M("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=RE(c),f=new na;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qp=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return qp=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const UT=()=>qp();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function js(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const el=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class be extends Error{}class Ce extends be{constructor(e,n,o,r){super(`${Ce.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new yi({message:o,cause:el(n)});const i=n;return e===400?new $p(e,i,o,r):e===401?new bp(e,i,o,r):e===403?new Jp(e,i,o,r):e===404?new Op(e,i,o,r):e===409?new Wp(e,i,o,r):e===422?new Kp(e,i,o,r):e===429?new Yp(e,i,o,r):e>=500?new Qp(e,i,o,r):new Ce(e,i,o,r)}}class tl extends Ce{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class yi extends Ce{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class zp extends yi{constructor({message:e}={}){super({message:e??"Request timed out."})}}class $p extends Ce{}class bp extends Ce{}class Jp extends Ce{}class Op extends Ce{}class Wp extends Ce{}class Kp extends Ce{}class Yp extends Ce{}class Qp extends Ce{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FT=/^[a-z][a-z0-9+.-]*:/i,VT=t=>FT.test(t);let nl=t=>(nl=Array.isArray,nl(t));const GT=nl;let HT=GT;const Jc=HT;function BT(t){if(!t)return!0;for(const e in t)return!1;return!0}function qT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const zT=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new be(`${t} must be an integer`);if(e<0)throw new be(`${t} must be a positive integer`);return e},$T=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bT=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const an="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const OT=()=>{var t,e,n,o,r;const i=JT();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":an,"X-Stainless-OS":Wc(Deno.build.os),"X-Stainless-Arch":Oc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":an,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":an,"X-Stainless-OS":Wc((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Oc((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=WT();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":an,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":an,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function WT(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,l=o[3]||0;return{browser:e,version:`${r}.${i}.${l}`}}}return null}const Oc=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Wc=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let tr;const KT=()=>tr??(tr=OT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YT(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Xp(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function QT(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Xp({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Zp(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function XT(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZT=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Wi(t,e,n){return jp(),new File(t,e??"unknown_file",n)}function jT(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const e_=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const em=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",t_=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&em(t),n_=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function o_(t,e,n){if(jp(),t=await t,t_(t))return t instanceof File?t:Wi([await t.arrayBuffer()],t.name);if(n_(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Wi(await ol(r),e,n)}const o=await ol(t);if(e||(e=jT(t)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Wi(o,e,n)}async function ol(t){var e,n,o,r,i;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(em(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(e_(t))try{for(var u=!0,c=Ze(t),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const f=r;l.push(...await ol(f))}}catch(f){n={error:f}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{const f=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${r_(t)}`)}return l}function r_(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tm{constructor(e){this._client=e}}tm._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nm(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Kc=Object.freeze(Object.create(null)),i_=(t=nm)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],l=n.reduce((f,m,p)=>{var h,E,T;/[?#]/.test(m)&&(r=!0);const C=o[p];let v=(r?encodeURIComponent:t)(""+C);return p!==o.length&&(C==null||typeof C=="object"&&C.toString===((T=Object.getPrototypeOf((E=Object.getPrototypeOf((h=C.hasOwnProperty)!==null&&h!==void 0?h:Kc))!==null&&E!==void 0?E:Kc))===null||T===void 0?void 0:T.toString))&&(v=C+"",i.push({start:f.length+m.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),f+m+(p===o.length?"":v)},""),u=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,m)=>f.start-m.start),i.length>0){let f=0;const m=i.reduce((p,h)=>{const E=" ".repeat(h.start-f),T="^".repeat(h.length);return f=h.start+h.length,p+E+T},"");throw new be(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${l}
${m}`)}return l},nr=i_(nm);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class om extends tm{create(e,n){var o;const{api_version:r=this._client.apiVersion}=e,i=Kr(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new be("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new be("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(nr`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(nr`/${r}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(nr`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;const i=n??{},{api_version:l=this._client.apiVersion}=i,u=Kr(i,["api_version"]);return this._client.get(nr`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}om._key=Object.freeze(["interactions"]);class rm extends om{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let or;function ua(t){let e;return(or??(e=new globalThis.TextEncoder,or=e.encode.bind(e)))(t)}let rr;function Yc(t){let e;return(rr??(e=new globalThis.TextDecoder,rr=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vi{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ua(e):e;this.buffer=s_([this.buffer,n]);const o=[];let r;for(;(r=l_(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(Yc(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=Yc(this.buffer.subarray(0,i));o.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}vi.NEWLINE_CHARS=new Set([`
`,"\r"]);vi.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function l_(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function a_(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yr={off:0,error:200,warn:300,info:400,debug:500},Qc=(t,e,n)=>{if(t){if(qT(Yr,t))return t;Ee(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Yr))}`)}};function ro(){}function ir(t,e,n){return!e||Yr[t]>Yr[n]?ro:e[t].bind(e)}const u_={error:ro,warn:ro,info:ro,debug:ro};let Xc=new WeakMap;function Ee(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return u_;const r=Xc.get(n);if(r&&r[0]===o)return r[1];const i={error:ir("error",n,o),warn:ir("warn",n,o),info:ir("info",n,o),debug:ir("debug",n,o)};return Xc.set(n,[o,i]),i}const Jt=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _n{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1;const i=o?Ee(o):console;function l(){return Xe(this,arguments,function*(){var c,d,f,m;if(r)throw new be("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var h=!0,E=Ze(c_(e,n)),T;T=yield F(E.next()),c=T.done,!c;h=!0){m=T.value,h=!1;const C=m;if(!p)if(C.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield F(JSON.parse(C.data))}catch(v){throw i.error("Could not parse message into JSON:",C.data),i.error("From chunk:",C.raw),v}}}catch(C){d={error:C}}finally{try{!h&&!c&&(f=E.return)&&(yield F(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(C){if(js(C))return yield F(void 0);throw C}finally{p||n.abort()}})}return new _n(l,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return Xe(this,arguments,function*(){var c,d,f,m;const p=new vi,h=Zp(e);try{for(var E=!0,T=Ze(h),C;C=yield F(T.next()),c=C.done,!c;E=!0){m=C.value,E=!1;const v=m;for(const y of p.decode(v))yield yield F(y)}}catch(v){d={error:v}}finally{try{!E&&!c&&(f=T.return)&&(yield F(f.call(T)))}finally{if(d)throw d.error}}for(const v of p.flush())yield yield F(v)})}function l(){return Xe(this,arguments,function*(){var c,d,f,m;if(r)throw new be("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var h=!0,E=Ze(i()),T;T=yield F(E.next()),c=T.done,!c;h=!0){m=T.value,h=!1;const C=m;p||C&&(yield yield F(JSON.parse(C)))}}catch(C){d={error:C}}finally{try{!h&&!c&&(f=E.return)&&(yield F(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(C){if(js(C))return yield F(void 0);throw C}finally{p||n.abort()}})}return new _n(l,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const l=o.next();e.push(l),n.push(l)}return i.shift()}});return[new _n(()=>r(e),this.controller,this.client),new _n(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Xp({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const l=ua(JSON.stringify(r)+`
`);o.enqueue(l)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function c_(t,e){return Xe(this,arguments,function*(){var o,r,i,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new be("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new be("Attempted to iterate over a response with no body");const u=new f_,c=new vi,d=Zp(t.body);try{for(var f=!0,m=Ze(d_(d)),p;p=yield F(m.next()),o=p.done,!o;f=!0){l=p.value,f=!1;const h=l;for(const E of c.decode(h)){const T=u.decode(E);T&&(yield yield F(T))}}}catch(h){r={error:h}}finally{try{!f&&!o&&(i=m.return)&&(yield F(i.call(m)))}finally{if(r)throw r.error}}for(const h of c.flush()){const E=u.decode(h);E&&(yield yield F(E))}})}function d_(t){return Xe(this,arguments,function*(){var n,o,r,i;let l=new Uint8Array;try{for(var u=!0,c=Ze(t),d;d=yield F(c.next()),n=d.done,!n;u=!0){i=d.value,u=!1;const f=i;if(f==null)continue;const m=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?ua(f):f;let p=new Uint8Array(l.length+m.length);p.set(l),p.set(m,l.length),l=p;let h;for(;(h=a_(l))!==-1;)yield yield F(l.slice(0,h)),l=l.slice(h)}}catch(f){o={error:f}}finally{try{!u&&!n&&(r=c.return)&&(yield F(r.call(c)))}finally{if(o)throw o.error}}l.length>0&&(yield yield F(l))})}class f_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=p_(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function p_(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function m_(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,l=await(async()=>{var u;if(e.options.stream)return Ee(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):_n.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Ee(t).debug(`[${o}] response parsed`,Jt({retryOfRequestLogID:r,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ca extends Promise{constructor(e,n,o=m_){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new ca(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const im=Symbol("brand.privateNullableHeaders");function*h_(t){if(!t)return;if(im in t){const{values:o,nulls:r}=t;yield*o.entries();for(const i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Jc(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=Jc(o[1])?o[1]:[o[1]];let l=!1;for(const u of i)u!==void 0&&(e&&!l&&(l=!0,yield[r,null]),yield[r,u])}}const jn=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[i,l]of h_(o)){const u=i.toLowerCase();r.has(u)||(e.delete(i),r.add(u)),l===null?(e.delete(i),n.add(u)):(e.append(i,l),n.delete(u))}}return{[im]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ki=t=>{var e,n,o,r,i,l;if(typeof globalThis.process<"u")return(o=(n=(e=Bg)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sm;class Si{constructor(e){var n,o,r,i,l,u,c,{baseURL:d=Ki("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=Ki("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,p=Kr(e,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:f,apiVersion:m},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(o=h.timeout)!==null&&o!==void 0?o:Si.DEFAULT_TIMEOUT,this.logger=(r=h.logger)!==null&&r!==void 0?r:console;const E="warn";this.logLevel=E,this.logLevel=(l=(i=Qc(h.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:Qc(Ki("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=h.fetchOptions,this.maxRetries=(u=h.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=h.fetch)!==null&&c!==void 0?c:YT(),this.encoder=ZT,this._options=h,this.apiKey=f,this.apiVersion=m,this.clientAdapter=h.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=jn([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return jn([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return jn([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new be(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${an}`}defaultIdempotencyKey(){return`stainless-node-retry-${UT()}`}makeStatusError(e,n,o,r){return Ce.generate(e,n,o,r)}buildURL(e,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=VT(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return BT(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new ca(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var r,i,l;const u=await e,c=(r=u.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:d,url:f,timeout:m}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(Ee(this).debug(`[${p}] sending request`,Jt({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((i=u.signal)===null||i===void 0)&&i.aborted)throw new tl;const T=new AbortController,C=await this.fetchWithTimeout(f,d,m,T).catch(el),v=Date.now();if(C instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new tl;const _=js(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Ee(this).info(`[${p}] connection ${_?"timed out":"failed"} - ${S}`),Ee(this).debug(`[${p}] connection ${_?"timed out":"failed"} (${S})`,Jt({retryOfRequestLogID:o,url:f,durationMs:v-E,message:C.message})),this.retryRequest(u,n,o??p);throw Ee(this).info(`[${p}] connection ${_?"timed out":"failed"} - error; no more retries left`),Ee(this).debug(`[${p}] connection ${_?"timed out":"failed"} (error; no more retries left)`,Jt({retryOfRequestLogID:o,url:f,durationMs:v-E,message:C.message})),_?new zp:new yi({cause:C})}const y=`[${p}${h}] ${d.method} ${f} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${v-E}ms`;if(!C.ok){const S=await this.shouldRetry(C);if(n&&S){const P=`retrying, ${n} attempts remaining`;return await XT(C.body),Ee(this).info(`${y} - ${P}`),Ee(this).debug(`[${p}] response error (${P})`,Jt({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:v-E})),this.retryRequest(u,n,o??p,C.headers)}const _=S?"error; no more retries left":"error; not retryable";Ee(this).info(`${y} - ${_}`);const I=await C.text().catch(P=>el(P).message),A=$T(I),x=A?void 0:I;throw Ee(this).debug(`[${p}] response error (${_})`,Jt({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,message:x,durationMs:Date.now()-E})),this.makeStatusError(C.status,A,x,C.headers)}return Ee(this).info(y),Ee(this).debug(`[${p}] response start`,Jt({retryOfRequestLogID:o,url:C.url,status:C.status,headers:C.headers,durationMs:v-E})),{response:C,options:u,controller:T,requestLogID:p,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(e,n,o,r){const i=n||{},{signal:l,method:u}=i,c=Kr(i,["signal","method"]);l&&l.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){var i;let l;const u=r==null?void 0:r.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const c=r==null?void 0:r.get("retry-after");if(c&&!l){const d=parseFloat(c);Number.isNaN(d)?l=Date.parse(c)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await bT(l),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,l=Math.min(.5*Math.pow(2,i),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,r,i;const l=Object.assign({},e),{method:u,path:c,query:d,defaultBaseURL:f}=l,m=this.buildURL(c,d,f);"timeout"in l&&zT("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:h}=this.buildBody({options:l}),E=await this.buildHeaders({options:e,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=l.fetchOptions)!==null&&i!==void 0?i:{}),url:m,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let u=jn([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),KT()),this._options.defaultHeaders,o,e.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=jn([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:QT(e)}:this.encoder({body:e,headers:o})}}Si.DEFAULT_TIMEOUT=6e4;class ae extends Si{constructor(){super(...arguments),this.interactions=new rm(this)}}sm=ae;ae.GeminiNextGenAPIClient=sm;ae.GeminiNextGenAPIClientError=be;ae.APIError=Ce;ae.APIConnectionError=yi;ae.APIConnectionTimeoutError=zp;ae.APIUserAbortError=tl;ae.NotFoundError=Op;ae.ConflictError=Wp;ae.RateLimitError=Yp;ae.BadRequestError=$p;ae.AuthenticationError=bp;ae.InternalServerError=Qp;ae.PermissionDeniedError=Jp;ae.UnprocessableEntityError=Kp;ae.toFile=o_;ae.Interactions=rm;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g_(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function y_(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function v_(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function S_(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function E_(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(t,["epochCount"]);e!==void 0&&i!=null&&a(e,["tuningTask","hyperparameters","epochCount"],i);const l=s(t,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const c=s(t,["learningRate"]);if(e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","learningRate"],c),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function T_(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=s(t,["validationDataset"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec"],Zc(h))}else if(r==="PREFERENCE_TUNING"){const h=s(t,["validationDataset"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec"],Zc(h))}const i=s(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&a(e,["tunedModelDisplayName"],i);const l=s(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=s(t,["epochCount"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(u==="PREFERENCE_TUNING"){const h=s(t,["epochCount"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=s(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(c==="PREFERENCE_TUNING"){const h=s(t,["learningRateMultiplier"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=s(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(d==="PREFERENCE_TUNING"){const h=s(t,["exportLastCheckpointOnly"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=s(t,["adapterSize"]);e!==void 0&&h!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(f==="PREFERENCE_TUNING"){const h=s(t,["adapterSize"]);e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(t,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const p=s(t,["beta"]);return e!==void 0&&p!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function __(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&D_(i);const l=s(t,["config"]);return l!=null&&E_(l,n),n}function C_(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&L_(i,n,e);const l=s(t,["config"]);return l!=null&&T_(l,n,e),n}function x_(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function w_(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function I_(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function A_(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function N_(t,e){const n={},o=s(t,["config"]);return o!=null&&I_(o,n),n}function R_(t,e){const n={},o=s(t,["config"]);return o!=null&&A_(o,n),n}function k_(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>lm(u))),a(n,["tuningJobs"],l)}return n}function P_(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>rl(u))),a(n,["tuningJobs"],l)}return n}function M_(t,e){const n={},o=s(t,["name"]);o!=null&&a(n,["model"],o);const r=s(t,["name"]);return r!=null&&a(n,["endpoint"],r),n}function D_(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function L_(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function lm(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],Cp(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["description"]);f!=null&&a(n,["description"],f);const m=s(t,["baseModel"]);m!=null&&a(n,["baseModel"],m);const p=s(t,["_self"]);return p!=null&&a(n,["tunedModel"],M_(p)),n}function rl(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],Cp(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["error"]);f!=null&&a(n,["error"],f);const m=s(t,["description"]);m!=null&&a(n,["description"],m);const p=s(t,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=s(t,["tunedModel"]);h!=null&&a(n,["tunedModel"],h);const E=s(t,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const T=s(t,["supervisedTuningSpec"]);T!=null&&a(n,["supervisedTuningSpec"],T);const C=s(t,["preferenceOptimizationSpec"]);C!=null&&a(n,["preferenceOptimizationSpec"],C);const v=s(t,["tuningDataStats"]);v!=null&&a(n,["tuningDataStats"],v);const y=s(t,["encryptionSpec"]);y!=null&&a(n,["encryptionSpec"],y);const S=s(t,["partnerModelTuningSpec"]);S!=null&&a(n,["partnerModelTuningSpec"],S);const _=s(t,["customBaseModel"]);_!=null&&a(n,["customBaseModel"],_);const I=s(t,["experiment"]);I!=null&&a(n,["experiment"],I);const A=s(t,["labels"]);A!=null&&a(n,["labels"],A);const x=s(t,["outputUri"]);x!=null&&a(n,["outputUri"],x);const N=s(t,["pipelineJob"]);N!=null&&a(n,["pipelineJob"],N);const P=s(t,["serviceAccount"]);P!=null&&a(n,["serviceAccount"],P);const L=s(t,["tunedModelDisplayName"]);L!=null&&a(n,["tunedModelDisplayName"],L);const z=s(t,["veoTuningSpec"]);return z!=null&&a(n,["veoTuningSpec"],z),n}function U_(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["done"]);l!=null&&a(n,["done"],l);const u=s(t,["error"]);return u!=null&&a(n,["error"],u),n}function Zc(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(t,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F_ extends vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new rn(gt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Os.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=w_(e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>rl(f))}else{const d=x_(e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>lm(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=R_(e);return u=M("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=P_(f),p=new xc;return Object.assign(p,m),p})}else{const d=N_(e);return u=M("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=k_(f),p=new xc;return Object.assign(p,m),p})}}async cancel(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=y_(e);return u=M("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=S_(f),p=new wc;return Object.assign(p,m),p})}else{const d=g_(e);return u=M("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const m=v_(f),p=new wc;return Object.assign(p,m),p})}}async tuneInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=C_(e,e);return i=M("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>rl(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=__(e);return i=M("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>U_(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V_{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const G_=1024*1024*8,H_=3,B_=1e3,q_=2,Qr="x-goog-upload-status";async function z_(t,e,n){var o;const r=await am(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Qr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function $_(t,e,n){var o;const r=await am(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Qr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=yp(i),u=new oa;return Object.assign(u,l),u}async function am(t,e,n){var o,r;let i=0,l=0,u=new Ws(new Response),c="upload";for(i=t.size;l<i;){const d=Math.min(G_,i-l),f=t.slice(l,l+d);l+d>=i&&(c+=", finalize");let m=0,p=B_;for(;m<H_&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Qr]));)m++,await J_(p),p=p*q_;if(l+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[Qr])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function b_(t){return{size:t.size,type:t.type}}function J_(t){return new Promise(e=>setTimeout(e,t))}class O_{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await z_(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $_(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await b_(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W_{create(e,n,o){return new K_(e,n,o)}}class K_{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jc="x-goog-api-key";class Y_{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(jc)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jc,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q_="gl-node/";class X_{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ae({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=bg(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new Y_(this.apiKey);this.apiClient=new bE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Q_+"web",uploader:new O_,downloader:new V_}),this.models=new uT(this.apiClient),this.live=new oT(this.apiClient,r,new W_),this.batches=new Sv(this.apiClient),this.chats=new e0(this.models,this.apiClient),this.caches=new Xv(this.apiClient),this.files=new c0(this.apiClient),this.operations=new cT(this.apiClient),this.authTokens=new IT(this.apiClient),this.tunings=new F_(this.apiClient),this.fileSearchStores=new LT(this.apiClient)}}const Z_={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Yi={};const um=t=>{let e="";try{typeof import.meta<"u",typeof process<"u"&&Yi&&Yi.API_KEY&&(e=Yi.API_KEY)}catch{}const n=t||e;if(!n)throw new Error("Missing API Key. Please add your Gemini API Key in Settings.");return new X_({apiKey:n})},ed={type:H.OBJECT,properties:{events:{type:H.ARRAY,description:"A list of sports events found for the specified date.",items:{type:H.OBJECT,properties:{id:{type:H.STRING,description:"A unique identifier for the event."},sport:{type:H.STRING,description:"The sport category (e.g., Football, Basketball)."},league:{type:H.STRING,description:"The specific league or tournament name."},homeTeam:{type:H.STRING,description:"The name of the home team or first competitor."},awayTeam:{type:H.STRING,description:"The name of the away team or second competitor."},time:{type:H.STRING,description:"The start time of the event in HH:MM format (Israel Time)."},channel:{type:H.STRING,description:"The TV channel broadcasting the event."},status:{type:H.STRING,enum:["live","upcoming","ended"],description:"The current status relative to the request time."}},required:["id","sport","league","time","channel","homeTeam","awayTeam","status"]}}},required:["events"]},td={type:H.OBJECT,properties:{summary:{type:H.STRING,description:"A concise 2-3 sentence summary of the day's major sports news."},results:{type:H.ARRAY,description:"Key match results from the day.",items:{type:H.OBJECT,properties:{league:{type:H.STRING,description:"The league or tournament."},homeTeam:{type:H.STRING,description:"Home team name."},awayTeam:{type:H.STRING,description:"Away team name."},homeScore:{type:H.INTEGER,description:"Home team score."},awayScore:{type:H.INTEGER,description:"Away team score."},status:{type:H.STRING,description:"Match status (e.g., 'FT', 'AET')."}},required:["league","homeTeam","awayTeam","homeScore","awayScore","status"]}},standings:{type:H.ARRAY,description:"Snapshot of top standings for a major league.",items:{type:H.OBJECT,properties:{position:{type:H.INTEGER,description:"Rank position."},team:{type:H.STRING,description:"Team name."},played:{type:H.INTEGER,description:"Matches played."},points:{type:H.INTEGER,description:"Total points."}},required:["position","team","played","points"]}}},required:["summary","results","standings"]},cm=t=>{var o,r,i;const e=[];return(((i=(r=(o=t.candidates)==null?void 0:o[0])==null?void 0:r.groundingMetadata)==null?void 0:i.groundingChunks)||[]).forEach(l=>{var u;(u=l.web)!=null&&u.uri&&(e.find(c=>c.uri===l.web.uri)||e.push({title:l.web.title||"Source",uri:l.web.uri}))}),e},j_=async(t,e)=>{var n;try{const o=um(e.apiKey),r=e.geminiModel||"gemini-3-pro-preview";let i=e.schedulePrompt||jl;i=i.replace("{{DATE}}",t).replace("{{SPORTS}}",e.selectedSports.join(", ")).replace("{{CHANNELS}}",e.selectedChannels.join(", ")).replace("{{LEAGUES}}",e.followedLeagues.join(", ")||"None specified (include all major)").replace("{{TEAMS}}",e.favoriteTeams.join(", ")||"None specified");const l=JSON.stringify(ed,null,2);i+=`

CRITICAL OUTPUT INSTRUCTION:
Your response MUST be a valid JSON object adhering strictly to the following Schema:
${l}`;const c=r.includes("pro")||r.includes("thinking")?{thinkingConfig:{thinkingBudget:2048}}:{},d=await o.models.generateContent({model:r,contents:i,config:{responseMimeType:"application/json",responseSchema:ed,temperature:.1,tools:[{googleSearch:{}}],...c}});let f=d.text||"{}";f=f.replace(/^```json\s*/,"").replace(/^```\s*/,"").replace(/\s*```$/,"");let m;try{m=JSON.parse(f)}catch{console.warn("JSON parse failed, returning empty",f),m={events:[]}}const p=cm(d);return{events:((n=m.events)==null?void 0:n.map(h=>({...h,date:t})))||[],sources:p}}catch(o){throw console.error("Gemini Schedule Error:",o),o.message.includes("API Key")?o:o.status===403||o.message.includes("403")?new Error("Invalid API Key or permission denied."):o.status===429||o.message.includes("429")?new Error("API Quota exceeded. Please try again later."):new Error(`Failed to fetch schedule: ${o.message||"Unknown error"}`)}},eC=async(t,e)=>{try{const n=um(e.apiKey),o=e.geminiModel||"gemini-3-pro-preview";let r=e.recapPrompt||ea;r=r.replace("{{DATE}}",t).replace("{{SPORTS}}",e.selectedSports.join(", ")).replace("{{LEAGUES}}",e.followedLeagues.join(", ")||"None specified").replace("{{TEAMS}}",e.favoriteTeams.join(", ")||"None specified");const i=JSON.stringify(td,null,2);r+=`

CRITICAL OUTPUT INSTRUCTION:
Your response MUST be a valid JSON object adhering strictly to the following Schema:
${i}`;const u=o.includes("pro")||o.includes("thinking")?{thinkingConfig:{thinkingBudget:2048}}:{},c=await n.models.generateContent({model:o,contents:r,config:{responseMimeType:"application/json",responseSchema:td,temperature:.2,tools:[{googleSearch:{}}],...u}});let d=c.text||"{}";d=d.replace(/^```json\s*/,"").replace(/^```\s*/,"").replace(/\s*```$/,"");let f;try{f=JSON.parse(d)}catch{f={summary:"Error parsing data",results:[],standings:[]}}const m=cm(c);return{date:t,summary:f.summary||"No summary available.",results:f.results||[],standings:f.standings||[],sources:m}}catch(n){throw console.error("Gemini Recap Error:",n),n.message.includes("API Key")?n:new Error(`Failed to fetch recap: ${n.message||"Unknown error"}`)}},nd=t=>`https://ui-avatars.com/api/?name=${encodeURIComponent(t)}&background=random&color=fff&size=64`,tC=({preferences:t,onNavigateToRecap:e,onOpenSettings:n})=>{const[o,r]=B.useState(new Date),[i,l]=B.useState([]),[u,c]=B.useState([]),[d,f]=B.useState(!1),[m,p]=B.useState(null),h=B.useRef(null),[E,T]=B.useState(null),[C,v]=B.useState("All"),[y,S]=B.useState("All"),[_,I]=B.useState("schedule"),[A,x]=B.useState(()=>{try{const w=localStorage.getItem("my_watchlist");return w?JSON.parse(w):[]}catch{return[]}});B.useEffect(()=>{localStorage.setItem("my_watchlist",JSON.stringify(A))},[A]);const N=w=>{const k=A.some(D=>D.id===w.id);x(k?A.filter(D=>D.id!==w.id):[...A,w])},P=Array.from({length:29},(w,k)=>{const D=new Date;return D.setDate(D.getDate()-14+k),D});B.useEffect(()=>{h.current&&(h.current.scrollLeft=14*84-window.innerWidth/2+84/2)},[]),B.useEffect(()=>{const w=o.toISOString().split("T")[0],k=localStorage.getItem(`schedule_${w}`);if(v("All"),S("All"),p(null),c([]),k)try{const D=JSON.parse(k);l(D.events||[]),c(D.sources||[]),T(D.timestamp)}catch{l([])}else l([]),T(null)},[o]);const L=async()=>{f(!0),p(null);const w=o.toISOString().split("T")[0];try{const k=await j_(w,t);if(!Array.isArray(k.events))throw new Error("Invalid data format received from AI.");l(k.events),c(k.sources);const D=Date.now();T(D),localStorage.setItem(`schedule_${w}`,JSON.stringify({events:k.events,sources:k.sources,timestamp:D}))}catch(k){p(k.message||"An unexpected error occurred while fetching the schedule."),l([]),c([])}finally{f(!1)}},z=w=>{const k=new Date,D=w.toDateString()===k.toDateString(),V=new Date(k);V.setDate(V.getDate()+1);const J=w.toDateString()===V.toDateString(),Et=new Date(k);Et.setDate(Et.getDate()-1);const st=w.toDateString()===Et.toDateString();return D?{day:"Today",sub:w.toLocaleDateString("en-US",{weekday:"short"})}:J?{day:"Tom",sub:w.toLocaleDateString("en-US",{weekday:"short"})}:st?{day:"Yest",sub:w.toLocaleDateString("en-US",{weekday:"short"})}:{day:w.getDate().toString(),sub:w.toLocaleDateString("en-US",{weekday:"short"})}},ue=w=>w.toDateString()===new Date().toDateString(),b=w=>w<new Date&&!ue(w),ne=B.useMemo(()=>{let w=_==="watchlist"?A:i;return _==="watchlist"?[...A].sort((k,D)=>k.date!==D.date?k.date>D.date?1:-1:k.time>D.time?1:-1):w.filter(k=>{const D=C==="All"||k.sport.includes(C),V=y==="All"||k.channel===y;return D&&V})},[i,C,y,_,A]),sn=B.useMemo(()=>Array.from(new Set(i.map(w=>w.sport))).sort(),[i]),Se=B.useMemo(()=>Array.from(new Set(i.map(w=>w.channel))).sort(),[i]),ce=B.useMemo(()=>{if(_==="watchlist"){const V={};return ne.forEach(J=>{V[J.date]||(V[J.date]=[]),V[J.date].push(J)}),{type:"date",data:V}}const w=ne.filter(V=>V.status==="live"),k=ne.filter(V=>V.status==="upcoming"),D=ne.filter(V=>V.status==="ended");return{type:"status",live:w,upcoming:k,ended:D}},[ne,_]);return g.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-hidden bg-background-light dark:bg-background-dark",children:[g.jsxs("header",{className:"flex items-center justify-between p-4 pb-2 bg-background-light dark:bg-background-dark sticky top-0 z-10",children:[g.jsx("h2",{className:"text-xl font-bold leading-tight tracking-tight flex-1 dark:text-white",children:"SportSync Israel"}),g.jsx("button",{onClick:n,className:"flex size-10 items-center justify-center rounded-full bg-transparent hover:bg-black/5 dark:hover:bg-white/5 transition-colors text-slate-900 dark:text-white",children:g.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"settings"})})]}),g.jsx("div",{className:"px-4 pb-2",children:g.jsxs("div",{className:"flex p-1 bg-gray-200 dark:bg-surface-dark rounded-xl",children:[g.jsx("button",{onClick:()=>I("schedule"),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-all ${_==="schedule"?"bg-white dark:bg-surface-highlight shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-gray-400"}`,children:"Schedule"}),g.jsxs("button",{onClick:()=>I("watchlist"),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-all flex items-center justify-center gap-1 ${_==="watchlist"?"bg-white dark:bg-surface-highlight shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-gray-400"}`,children:["Watchlist (",A.length,")"]})]})}),_==="schedule"&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-full overflow-x-auto no-scrollbar pb-2",ref:h,children:g.jsx("div",{className:"flex gap-3 px-4 min-w-max",children:P.map((w,k)=>{const{day:D,sub:V}=z(w),J=w.toDateString()===o.toDateString();return g.jsxs("button",{onClick:()=>r(w),className:`flex flex-col h-14 w-[4.5rem] shrink-0 items-center justify-center gap-0.5 rounded-lg border transition-all
                    ${J?"bg-primary border-primary shadow-lg shadow-primary/20":"bg-white dark:bg-surface-dark border-transparent hover:border-slate-300 dark:hover:border-slate-700"}`,children:[g.jsx("span",{className:`text-xs font-medium ${J?"text-white/80":"text-slate-500 dark:text-[#9cabba]"}`,children:V}),g.jsx("span",{className:`text-sm font-bold ${J?"text-white":"text-slate-900 dark:text-white"}`,children:D})]},k)})})}),g.jsxs("div",{className:"px-4 py-2 flex gap-2 overflow-x-auto no-scrollbar items-center",children:[g.jsxs("button",{onClick:L,disabled:d,className:"shrink-0 flex items-center gap-1 px-3 py-1.5 rounded-lg bg-primary text-white text-xs font-bold shadow-sm active:scale-95 transition-transform disabled:opacity-50",children:[g.jsx("span",{className:`material-symbols-outlined text-[16px] ${d?"animate-spin":""}`,children:"sync"}),i.length>0?"Update":"Load Events"]}),i.length>0&&g.jsxs("select",{value:C,onChange:w=>v(w.target.value),className:"shrink-0 px-2 py-1.5 rounded-lg bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-700 text-xs font-medium text-slate-700 dark:text-gray-300 outline-none",children:[g.jsx("option",{value:"All",children:"All Sports"}),sn.map(w=>g.jsx("option",{value:w,children:w},w))]}),i.length>0&&g.jsxs("select",{value:y,onChange:w=>S(w.target.value),className:"shrink-0 px-2 py-1.5 rounded-lg bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-700 text-xs font-medium text-slate-700 dark:text-gray-300 outline-none",children:[g.jsx("option",{value:"All",children:"All Channels"}),Se.map(w=>g.jsx("option",{value:w,children:w},w))]})]})]}),g.jsx("main",{className:"flex-1 flex flex-col px-4 gap-4 overflow-y-auto pb-24 pt-2",children:d?g.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),g.jsx("p",{className:"dark:text-white text-sm",children:"Searching real-time data..."})]}):m?g.jsxs("div",{className:"flex flex-col items-center justify-center py-10 px-4 text-center",children:[g.jsx("div",{className:"size-12 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mb-3",children:g.jsx("span",{className:"material-symbols-outlined text-red-500 text-2xl",children:"error_outline"})}),g.jsx("h3",{className:"text-slate-900 dark:text-white font-bold text-sm mb-1",children:"Failed to Load"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs mb-4",children:m}),g.jsx("button",{onClick:n,className:"px-4 py-2 bg-slate-200 dark:bg-surface-highlight rounded-lg text-xs font-bold text-slate-700 dark:text-white hover:bg-slate-300 dark:hover:bg-slate-600",children:"Check Settings"})]}):g.jsxs(g.Fragment,{children:[_==="schedule"&&i.length===0&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[g.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-300 dark:text-slate-700 mb-2",children:"calendar_today"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4",children:"No schedule loaded for this day."}),g.jsx("button",{onClick:L,className:"px-6 py-2 bg-primary text-white rounded-full font-bold shadow-lg shadow-primary/20 hover:scale-105 transition-transform",children:"Load Schedule"})]}),_==="watchlist"&&ne.length===0&&g.jsxs("div",{className:"text-center py-20 text-slate-500 dark:text-[#9cabba]",children:[g.jsx("p",{children:"Your watchlist is empty."}),g.jsx("p",{className:"text-xs mt-2",children:"Star events from the schedule to see them here."})]}),_==="schedule"&&ce.type==="status"&&g.jsxs(g.Fragment,{children:[ce.live.length>0&&g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"size-2 rounded-full bg-primary animate-pulse"}),g.jsx("h3",{className:"text-[#9cabba] text-sm font-bold uppercase tracking-wider",children:"Live Now"})]}),ce.live.map(w=>g.jsx(sr,{event:w,onToggleWatchlist:()=>N(w),isWatchlisted:A.some(k=>k.id===w.id)},w.id))]}),ce.upcoming.length>0&&g.jsxs("div",{className:"flex flex-col gap-3 mt-2",children:[g.jsx("h3",{className:"text-[#9cabba] text-sm font-bold uppercase tracking-wider",children:"Upcoming"}),ce.upcoming.map(w=>g.jsx(sr,{event:w,onToggleWatchlist:()=>N(w),isWatchlisted:A.some(k=>k.id===w.id)},w.id))]}),ce.ended.length>0&&g.jsxs("div",{className:"flex flex-col gap-3 mt-2 opacity-60 hover:opacity-100 transition-opacity duration-300",children:[g.jsx("h3",{className:"text-[#9cabba] text-sm font-bold uppercase tracking-wider",children:"Earlier Today"}),ce.ended.map(w=>g.jsx(sr,{event:w,onToggleWatchlist:()=>N(w),isWatchlisted:A.some(k=>k.id===w.id)},w.id))]}),u.length>0&&g.jsxs("div",{className:"mt-8 pt-4 border-t border-slate-200 dark:border-slate-800",children:[g.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"Verified Sources"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((w,k)=>g.jsx("a",{href:w.uri,target:"_blank",rel:"noreferrer",className:"text-[10px] bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 px-2 py-1 rounded-md hover:text-primary hover:underline truncate max-w-[200px]",children:w.title},k))})]})]}),_==="watchlist"&&ce.type==="date"&&g.jsx("div",{className:"flex flex-col gap-6",children:Object.entries(ce.data).sort().map(([w,k])=>g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsx("h3",{className:"text-primary text-sm font-bold uppercase tracking-wider sticky top-0 bg-background-light dark:bg-background-dark py-2 z-10 border-b border-gray-200 dark:border-gray-800",children:new Date(w).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),k.map(D=>g.jsx(sr,{event:D,onToggleWatchlist:()=>N(D),isWatchlisted:!0,showDate:!0},D.id))]},w))})]})}),_==="schedule"&&i.length>0&&(b(o)||ue(o))&&g.jsx("div",{className:"fixed bottom-0 left-0 w-full p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-t border-slate-200 dark:border-surface-highlight z-20",children:g.jsxs("button",{onClick:()=>e(o.toISOString().split("T")[0]),className:"w-full h-12 rounded-xl bg-surface-highlight border border-primary/20 text-primary font-bold text-sm tracking-wide uppercase hover:bg-primary hover:text-white transition-all duration-300 flex items-center justify-center gap-2 group",children:[g.jsx("span",{className:"material-symbols-outlined group-hover:hidden text-[20px]",children:"lock"}),g.jsx("span",{className:"material-symbols-outlined hidden group-hover:block text-[20px]",children:"visibility"}),g.jsx("span",{children:"Reveal Daily News & Results"})]})})]})},sr=({event:t,onToggleWatchlist:e,isWatchlisted:n,showDate:o})=>{const r=t.status==="live";return g.jsxs("div",{className:`relative flex items-center p-3 sm:p-4 rounded-xl bg-white dark:bg-surface-dark border ${r?"border-primary/30 shadow-md shadow-black/20":"border-transparent shadow-sm"}`,children:[g.jsxs("div",{className:`flex flex-col items-center justify-center w-14 shrink-0 gap-1 border-r border-slate-200 dark:border-slate-700/50 pr-3 mr-3 ${r?"":"text-[#9cabba]"}`,children:[g.jsx("span",{className:`material-symbols-outlined text-[24px] ${r?"text-primary":""}`,children:t.sport.toLowerCase().includes("soccer")?"sports_soccer":t.sport.toLowerCase().includes("basketball")?"sports_basketball":t.sport.toLowerCase().includes("tennis")?"sports_tennis":"sports_score"}),g.jsx("span",{className:`text-xs font-bold ${r?"text-slate-900 dark:text-white":""}`,children:t.time})]}),g.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center gap-1.5 pr-8",children:[g.jsxs("div",{className:"flex items-start gap-2",children:[g.jsxs("div",{className:"flex -space-x-1.5 shrink-0 mt-0.5",children:[g.jsx("div",{className:"size-5 rounded-full bg-slate-200 dark:bg-slate-600 bg-center bg-cover ring-2 ring-white dark:ring-surface-dark",style:{backgroundImage:`url('${nd(t.homeTeam)}')`}}),g.jsx("div",{className:"size-5 rounded-full bg-slate-200 dark:bg-slate-600 bg-center bg-cover ring-2 ring-white dark:ring-surface-dark",style:{backgroundImage:`url('${nd(t.awayTeam)}')`}})]}),g.jsxs("p",{className:"text-slate-900 dark:text-white text-sm font-bold leading-tight whitespace-normal break-words",children:[t.homeTeam," ",g.jsx("span",{className:"text-slate-400 font-normal",children:"vs"})," ",t.awayTeam]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[g.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold bg-slate-100 dark:bg-surface-highlight text-slate-500 dark:text-[#9cabba] border border-slate-200 dark:border-slate-700 truncate max-w-[100px]",children:t.channel}),r&&g.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-bold bg-primary/20 text-primary animate-pulse",children:[g.jsx("span",{className:"size-1 rounded-full bg-primary"}),"LIVE"]}),t.status==="ended"&&g.jsx("span",{className:"text-[10px] text-slate-500 dark:text-[#5f6b7a] font-medium",children:"Ended"})]})]}),g.jsx("button",{onClick:i=>{i.stopPropagation(),e()},className:"absolute top-3 right-3 flex items-center justify-center text-slate-400 hover:text-yellow-400 transition-colors",children:g.jsx("span",{className:`material-symbols-outlined text-[22px] ${n?"text-yellow-400 fill-1":""}`,children:n?"star":"star_border"})})]})},nC=({initialPreferences:t,onSave:e,onCancel:n})=>{const[o,r]=B.useState(t),[i,l]=B.useState(""),[u,c]=B.useState(""),[d,f]=B.useState(!0),[m,p]=B.useState(!0),[h,E]=B.useState(!1),T=x=>{const N=o.selectedSports.includes(x);r({...o,selectedSports:N?o.selectedSports.filter(P=>P!==x):[...o.selectedSports,x]})},C=x=>{const N=o.selectedChannels.includes(x);r({...o,selectedChannels:N?o.selectedChannels.filter(P=>P!==x):[...o.selectedChannels,x]})},v=()=>{i.trim()&&(r({...o,followedLeagues:[...o.followedLeagues,i.trim()]}),l(""))},y=x=>{r({...o,followedLeagues:o.followedLeagues.filter(N=>N!==x)})},S=()=>{u.trim()&&(r({...o,favoriteTeams:[...o.favoriteTeams,u.trim()]}),c(""))},_=x=>{r({...o,favoriteTeams:o.favoriteTeams.filter(N=>N!==x)})},I=d?Eu:Eu.slice(0,8),A=m?bs:bs.slice(0,5);return g.jsxs("div",{className:"bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display overflow-x-hidden min-h-screen pb-12 selection:bg-primary/30",children:[g.jsxs("header",{className:"sticky top-0 z-50 flex items-center bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md p-4 pb-2 justify-between border-b border-gray-200 dark:border-gray-800/50 transition-colors duration-300",children:[g.jsx("button",{onClick:n,"aria-label":"Go back",className:"flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-gray-200 dark:hover:bg-white/10 transition-colors group",children:g.jsx("span",{className:"material-symbols-outlined text-gray-900 dark:text-white text-2xl group-hover:-translate-x-0.5 transition-transform",children:"arrow_back_ios_new"})}),g.jsx("h2",{className:"text-gray-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center",children:"Preferences"}),g.jsx("button",{onClick:()=>e(o),className:"flex h-10 px-2 items-center justify-end rounded-lg hover:bg-primary/10 transition-colors",children:g.jsx("p",{className:"text-primary text-base font-bold leading-normal tracking-[0.015em] shrink-0",children:"Done"})})]}),g.jsxs("main",{className:"w-full max-w-2xl mx-auto flex flex-col gap-6 p-4",children:[g.jsxs("section",{children:[g.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold leading-tight tracking-[0.08em] px-1 pb-3 uppercase",children:"API Settings"}),g.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Gemini API Key"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"password",value:o.apiKey||"",onChange:x=>r({...o,apiKey:x.target.value}),placeholder:"Enter your API Key",className:"flex-1 p-2 rounded-lg bg-gray-50 dark:bg-surface-highlight border border-gray-200 dark:border-gray-700 text-sm focus:ring-2 focus:ring-primary outline-none"}),o.apiKey&&g.jsx("button",{onClick:()=>r({...o,apiKey:""}),className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-3 rounded-lg text-sm font-bold border border-red-100 dark:border-red-800 hover:bg-red-100 dark:hover:bg-red-900/50",children:"Clear"})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Leave empty to try using the default preview key if available."})]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold leading-tight tracking-[0.08em] px-1 pb-3 uppercase",children:"AI Engine"}),g.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Select Model"}),g.jsxs("select",{value:o.geminiModel||"gemini-3-pro-preview",onChange:x=>r({...o,geminiModel:x.target.value}),className:"w-full p-2 rounded-lg bg-gray-50 dark:bg-surface-highlight border border-gray-200 dark:border-gray-700 text-sm focus:ring-2 focus:ring-primary outline-none",children:[g.jsx("option",{value:"gemini-3-pro-preview",children:"Gemini 3 Pro (High Reasoning)"}),g.jsx("option",{value:"gemini-3-flash-preview",children:"Gemini 3 Flash (Fast & Efficient)"})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Select your preferred Gemini 3 model variant."})]})]}),g.jsxs("section",{children:[g.jsx("div",{className:"flex items-center justify-between px-1 pb-3",children:g.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold leading-tight tracking-[0.08em] uppercase",children:"Followed Sports"})}),g.jsx("div",{className:"flex gap-2 flex-wrap",children:I.map(x=>{const N=o.selectedSports.includes(x);return g.jsxs("button",{onClick:()=>T(x),className:`group flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full pl-3 pr-4 transition-all active:scale-95 border
                    ${N?"bg-primary border-transparent shadow-sm shadow-primary/20 hover:bg-primary/90":"bg-white dark:bg-surface-dark-highlight border-gray-200 dark:border-transparent hover:bg-gray-50 dark:hover:bg-surface-dark"}`,children:[g.jsx("span",{className:`material-symbols-outlined text-[18px] ${N?"text-white":"text-gray-500 dark:text-gray-400"}`,children:x.includes("Soccer")?"sports_soccer":x.includes("Basketball")?"sports_basketball":x.includes("Tennis")?"sports_tennis":x.includes("Formula")?"directions_car":"sports_martial_arts"}),g.jsx("p",{className:`text-sm font-medium leading-normal ${N?"text-white":"text-gray-700 dark:text-gray-300"}`,children:x.replace(" (Soccer)","")})]},x)})})]}),g.jsxs("section",{children:[g.jsx("div",{className:"flex items-center justify-between px-1 pb-3",children:g.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold leading-tight tracking-[0.08em] uppercase",children:"Broadcast Channels"})}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:A.map(x=>{const N=o.selectedChannels.includes(x);return g.jsxs("button",{onClick:()=>C(x),className:`flex items-center justify-between p-3.5 rounded-xl shadow-sm border transition-all text-left
                        ${N?"bg-primary/5 dark:bg-primary/10 border-primary/30 ring-1 ring-primary/20":"bg-white dark:bg-surface-dark border-gray-100 dark:border-gray-800 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[g.jsxs("div",{className:"flex items-center gap-3.5",children:[g.jsx("div",{className:`h-8 w-12 rounded flex items-center justify-center overflow-hidden border shrink-0 ${N?"bg-primary text-white border-primary":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-300 border-gray-200 dark:border-gray-700"}`,children:g.jsx("span",{className:"text-[10px] font-bold",children:x.substring(0,3).toUpperCase()})}),g.jsx("span",{className:`font-medium text-sm ${N?"text-primary dark:text-primary-light":"text-gray-900 dark:text-white"}`,children:x})]}),N&&g.jsx("span",{className:"material-symbols-outlined text-primary text-[20px]",children:"check_circle"})]},x)})})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold leading-tight tracking-[0.08em] px-1 pb-3 uppercase",children:"Interests"}),g.jsxs("div",{className:"flex flex-col gap-4 bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-gray-800",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2 block",children:"Followed Leagues"}),g.jsxs("div",{className:"flex gap-2 mb-2",children:[g.jsx("input",{type:"text",value:i,onChange:x=>l(x.target.value),onKeyDown:x=>x.key==="Enter"&&v(),placeholder:"Add league (e.g. Premier League)",className:"flex-1 bg-gray-50 dark:bg-surface-highlight border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 text-sm outline-none focus:border-primary dark:text-white"}),g.jsx("button",{onClick:v,className:"bg-primary hover:bg-primary/90 text-white rounded-lg px-4 text-sm font-bold",children:"Add"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.followedLeagues.map((x,N)=>g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium border border-blue-100 dark:border-blue-800",children:[x,g.jsx("button",{onClick:()=>y(x),className:"hover:text-red-500",children:g.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"close"})})]},N)),o.followedLeagues.length===0&&g.jsx("span",{className:"text-xs text-gray-400 italic",children:"No leagues added"})]})]}),g.jsx("div",{className:"h-px bg-gray-100 dark:bg-gray-700/50"}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2 block",children:"Favorite Teams"}),g.jsxs("div",{className:"flex gap-2 mb-2",children:[g.jsx("input",{type:"text",value:u,onChange:x=>c(x.target.value),onKeyDown:x=>x.key==="Enter"&&S(),placeholder:"Add team (e.g. Maccabi Tel Aviv)",className:"flex-1 bg-gray-50 dark:bg-surface-highlight border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 text-sm outline-none focus:border-primary dark:text-white"}),g.jsx("button",{onClick:S,className:"bg-primary hover:bg-primary/90 text-white rounded-lg px-4 text-sm font-bold",children:"Add"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.favoriteTeams.map((x,N)=>g.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 text-xs font-medium border border-emerald-100 dark:border-emerald-800",children:[x,g.jsx("button",{onClick:()=>_(x),className:"hover:text-red-500",children:g.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"close"})})]},N)),o.favoriteTeams.length===0&&g.jsx("span",{className:"text-xs text-gray-400 italic",children:"No teams added"})]})]})]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold leading-tight tracking-[0.08em] px-1 pb-3 uppercase",children:"Spoiler Settings"}),g.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-gray-100 dark:border-gray-800",children:[g.jsxs("div",{className:"flex items-center gap-3.5",children:[g.jsx("div",{className:"flex items-center justify-center size-10 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined",children:"visibility_off"})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-gray-900 dark:text-white font-medium text-sm",children:"Hide Scores"}),g.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"Blur results in the schedule"})]})]}),g.jsx("button",{onClick:()=>r({...o,hideScores:!o.hideScores}),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none ${o.hideScores?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`,children:g.jsx("span",{className:`pointer-events-none inline-block size-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${o.hideScores?"translate-x-5":"translate-x-0"}`})})]})]}),g.jsxs("section",{children:[g.jsxs("div",{onClick:()=>E(!h),className:"flex items-center justify-between px-1 pb-3 cursor-pointer group",children:[g.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold leading-tight tracking-[0.08em] uppercase",children:"Prompt Engineering"}),g.jsx("span",{className:`material-symbols-outlined text-gray-400 transition-transform ${h?"rotate-180":""}`,children:"expand_more"})]}),h&&g.jsxs("div",{className:"flex flex-col gap-6 bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-gray-800",children:[g.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Customize the instructions sent to the AI. Use placeholders like ",g.jsx("code",{children:"{{DATE}}"}),", ",g.jsx("code",{children:"{{SPORTS}}"}),", etc."]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2 block",children:"Schedule Prompt Template"}),g.jsx("textarea",{value:o.schedulePrompt,onChange:x=>r({...o,schedulePrompt:x.target.value}),className:"w-full h-48 p-3 rounded-lg bg-gray-50 dark:bg-surface-highlight border border-gray-200 dark:border-gray-700 text-xs font-mono dark:text-gray-200 focus:ring-2 focus:ring-primary outline-none resize-y"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-bold text-gray-900 dark:text-white mb-2 block",children:"Recap Prompt Template"}),g.jsx("textarea",{value:o.recapPrompt,onChange:x=>r({...o,recapPrompt:x.target.value}),className:"w-full h-48 p-3 rounded-lg bg-gray-50 dark:bg-surface-highlight border border-gray-200 dark:border-gray-700 text-xs font-mono dark:text-gray-200 focus:ring-2 focus:ring-primary outline-none resize-y"})]}),g.jsx("button",{onClick:()=>r({...o,schedulePrompt:jl,recapPrompt:ea}),className:"self-end text-xs font-bold text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-lg border border-red-200 dark:border-red-900/50 transition-colors",children:"Reset Prompts to Default"})]})]})]})]})},Qi=t=>`https://ui-avatars.com/api/?name=${encodeURIComponent(t)}&background=random&color=fff&size=64`,oC=({dateStr:t,preferences:e,onBack:n})=>{const[o,r]=B.useState(null),[i,l]=B.useState(!0);if(B.useEffect(()=>{(async()=>{l(!0);const f=await eC(t,e);r(f),l(!1)})()},[t,e]),i)return g.jsx("div",{className:"flex h-screen items-center justify-center bg-background-light dark:bg-background-dark text-slate-900 dark:text-white",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),g.jsx("h2",{className:"text-xl font-bold mb-2",children:"Generating Daily Brief..."}),g.jsxs("p",{className:"text-slate-500",children:["Scanning results, summaries, and standings for ",t]})]})});if(!o)return g.jsx("div",{className:"p-10 text-center dark:text-white",children:"Failed to load recap."});const c=new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric"});return g.jsx("div",{className:"bg-background-light dark:bg-background-dark text-slate-900 dark:text-white overflow-x-hidden min-h-screen font-display",children:g.jsxs("div",{className:"relative flex h-auto min-h-screen w-full flex-col group/design-root",children:[g.jsxs("div",{className:"sticky top-0 z-50 bg-background-light dark:bg-background-dark border-b border-slate-200 dark:border-slate-800",children:[g.jsxs("div",{className:"flex items-center p-4 pb-2 justify-between",children:[g.jsx("button",{onClick:n,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),g.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Daily Recap"})]}),g.jsx("div",{className:"px-4",children:g.jsx("div",{className:"flex justify-center items-end gap-2 pb-2",children:g.jsx("div",{className:"flex flex-col items-center justify-center border-b-[3px] border-b-primary text-primary pb-2 pt-2 flex-1",children:g.jsx("p",{className:"text-sm font-bold leading-normal tracking-[0.015em]",children:c})})})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto",children:[g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"bg-cover bg-center flex flex-col items-stretch justify-end rounded-xl pt-[140px] overflow-hidden relative shadow-lg",style:{backgroundImage:'linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%), url("https://picsum.photos/800/600?grayscale")'},children:[g.jsxs("div",{className:"absolute top-4 left-4 bg-orange-500/90 text-white px-3 py-1 rounded-full flex items-center gap-2 backdrop-blur-sm",children:[g.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"visibility"}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"Spoilers Enabled"})]}),g.jsx("div",{className:"flex w-full items-end justify-between gap-4 p-5 z-10",children:g.jsxs("div",{className:"flex max-w-[440px] flex-1 flex-col gap-1",children:[g.jsx("p",{className:"text-white tracking-light text-2xl font-bold leading-tight",children:"Matchday Results"}),g.jsxs("p",{className:"text-slate-300 text-sm font-medium leading-normal",children:["Scores and statistics for ",c,"."]})]})})]})}),g.jsxs("div",{className:"pb-2 pt-2",children:[g.jsxs("div",{className:"flex items-center gap-2 px-4 pb-3",children:[g.jsx("span",{className:"material-symbols-outlined text-primary",children:"auto_awesome"}),g.jsx("h2",{className:"text-slate-900 dark:text-white tracking-light text-[22px] font-bold leading-tight",children:"The Daily Brief"})]}),g.jsx("div",{className:"px-4",children:g.jsxs("div",{className:"flex flex-col items-stretch justify-start rounded-xl bg-white dark:bg-card-dark shadow-sm border border-slate-100 dark:border-slate-800 overflow-hidden",children:[g.jsxs("div",{className:"relative w-full aspect-video bg-center bg-no-repeat bg-cover",style:{backgroundImage:'url("https://picsum.photos/800/400")'},children:[g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-black/80 to-transparent"}),g.jsx("p",{className:"absolute bottom-3 left-4 text-white text-lg font-bold",children:"Today's Highlights"})]}),g.jsx("div",{className:"flex flex-col gap-3 p-4",children:g.jsxs("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed",children:[g.jsx("span",{className:"font-semibold text-primary",children:"AI Summary:"})," ",o.summary]})})]})})]}),g.jsxs("div",{className:"pt-6 pb-2",children:[g.jsxs("div",{className:"flex items-center justify-between px-4 pb-3",children:[g.jsx("h2",{className:"text-slate-900 dark:text-white tracking-light text-[20px] font-bold leading-tight",children:"Match Results"}),g.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"All Leagues"})]}),o.results.map((d,f)=>g.jsx("div",{className:"px-4 mb-3",children:g.jsxs("div",{className:"bg-white dark:bg-card-dark rounded-xl p-4 shadow-sm border border-slate-100 dark:border-slate-800",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-slate-500 dark:text-slate-400",children:d.league}),g.jsx("span",{className:"text-[10px] font-medium bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-1 rounded",children:d.status})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[g.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 dark:bg-slate-700 bg-center bg-cover p-1 ring-1 ring-slate-100 dark:ring-slate-700",style:{backgroundImage:`url('${Qi(d.homeTeam)}')`}}),g.jsx("span",{className:"text-xs font-bold text-center leading-tight truncate w-full",children:d.homeTeam})]}),g.jsx("div",{className:"flex flex-col items-center justify-center w-1/3",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"text-3xl font-display font-bold text-primary",children:d.homeScore}),g.jsx("span",{className:"text-lg text-slate-400",children:"-"}),g.jsx("span",{className:"text-3xl font-display font-bold text-primary",children:d.awayScore})]})}),g.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[g.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 dark:bg-slate-700 bg-center bg-cover p-1 ring-1 ring-slate-100 dark:ring-slate-700",style:{backgroundImage:`url('${Qi(d.awayTeam)}')`}}),g.jsx("span",{className:"text-xs font-bold text-center leading-tight truncate w-full",children:d.awayTeam})]})]})]})},f)),o.results.length===0&&g.jsx("div",{className:"px-4 text-center text-sm text-slate-500",children:"No key results available for this date."})]}),o.standings.length>0&&g.jsxs("div",{className:"pt-4 pb-6",children:[g.jsxs("div",{className:"flex items-center justify-between px-4 pb-3",children:[g.jsx("h2",{className:"text-slate-900 dark:text-white tracking-light text-[20px] font-bold leading-tight",children:"Standings"}),g.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:"Snapshot"})]}),g.jsx("div",{className:"px-4",children:g.jsx("div",{className:"bg-white dark:bg-card-dark rounded-xl overflow-hidden border border-slate-100 dark:border-slate-800 shadow-sm",children:g.jsxs("table",{className:"w-full text-sm text-left text-slate-500 dark:text-slate-400",children:[g.jsx("thead",{className:"text-xs text-slate-700 uppercase bg-slate-50 dark:bg-[#24303d] dark:text-slate-300 border-b border-slate-200 dark:border-slate-700",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 w-12",scope:"col",children:"#"}),g.jsx("th",{className:"px-2 py-3",scope:"col",children:"Team"}),g.jsx("th",{className:"px-2 py-3 text-center w-12",scope:"col",children:"P"}),g.jsx("th",{className:"px-4 py-3 text-center w-12",scope:"col",children:"Pts"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700/50",children:o.standings.map(d=>g.jsxs("tr",{className:"bg-white dark:bg-card-dark hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[g.jsx("td",{className:"px-4 py-3 font-medium text-primary",children:d.position}),g.jsx("td",{className:"px-2 py-3",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 dark:bg-slate-700 bg-center bg-cover",style:{backgroundImage:`url('${Qi(d.team)}')`}}),g.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:d.team})]})}),g.jsx("td",{className:"px-2 py-3 text-center",children:d.played}),g.jsx("td",{className:"px-4 py-3 text-center font-bold text-slate-900 dark:text-white",children:d.points})]},d.position))})]})})})]}),o.sources&&o.sources.length>0&&g.jsxs("div",{className:"px-4 pb-12 pt-2",children:[g.jsx("h4",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase mb-2",children:"Sources"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:o.sources.map((d,f)=>g.jsx("a",{href:d.uri,target:"_blank",rel:"noreferrer",className:"text-[10px] bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 px-2 py-1 rounded-md hover:text-primary hover:underline truncate max-w-[200px]",children:d.title},f))})]}),g.jsx("div",{className:"h-8"})]})]})})},od="sport_sync_preferences",rC=()=>{const[t,e]=B.useState("schedule"),[n,o]=B.useState(""),[r,i]=B.useState(()=>{try{const c=localStorage.getItem(od);if(c)return JSON.parse(c)}catch(c){console.error("Failed to load preferences",c)}return{selectedSports:["Football (Soccer)","Basketball"],selectedChannels:bs.slice(0,5),followedLeagues:[],favoriteTeams:[],hideScores:!0,geminiModel:"gemini-3-pro-preview",schedulePrompt:jl,recapPrompt:ea,apiKey:""}});B.useEffect(()=>{localStorage.setItem(od,JSON.stringify(r))},[r]);const l=c=>{o(c),e("recap")},u=c=>{i(c),e("schedule")};return g.jsxs(g.Fragment,{children:[t==="schedule"&&g.jsx(tC,{preferences:r,onNavigateToRecap:l,onOpenSettings:()=>e("preferences")}),t==="preferences"&&g.jsx(nC,{initialPreferences:r,onSave:u,onCancel:()=>e("schedule")}),t==="recap"&&g.jsx(oC,{dateStr:n,preferences:r,onBack:()=>e("schedule")})]})},dm=document.getElementById("root");if(!dm)throw new Error("Could not find root element to mount to");const iC=Xi.createRoot(dm);iC.render(g.jsx(Nm.StrictMode,{children:g.jsx(rC,{})}));
